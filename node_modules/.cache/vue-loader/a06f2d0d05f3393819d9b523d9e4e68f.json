{"remainingRequest":"/Users/stavros/Documents/web/diary/scripta/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/stavros/Documents/web/diary/scripta/src/components/Header.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/Users/stavros/Documents/web/diary/scripta/src/components/Header.vue","mtime":1615236664607},{"path":"/Users/stavros/Documents/web/diary/scripta/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/stavros/Documents/web/diary/scripta/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/stavros/Documents/web/diary/scripta/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/stavros/Documents/web/diary/scripta/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/stavros/Documents/web/diary/scripta/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgouaGVhZGVyIHsKICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7ICAgICAgICAgICAgICAgICAgCn0KCi50aXRsZSB7CiAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsgCiAgICAgICAgIHdpZHRoOiAxMDAlOwogICAgICAgICB9CgojY29udGFpbmVyX2xvZ297CiAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgICAgIHdpZHRoOiBhdXRvOwogICAgICAgIC8qIGJvcmRlcjogc29saWQgYmx1ZSB0aGluOyAqLwogICAgICAgIHRleHQtYWxpZ246IGxlZnQ7Cn0gICAKCgojbG9nbyB7IAogICAgICAgIGhlaWdodDogOXZoOyAgICAgICAgICAgIAp9CiNzZWN0aW9uVGl0bGUgewogICAgICAgIAogICAgICAgIG1hcmdpbi1sZWZ0OiA0JTsKICAgICAgICAKfQoKCgojY29udGFpbmVyX0J1dHRvblVwcGVyTWVudSB7CiAgICAKICAgIGRpc3BsYXk6IGZsZXg7CiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOwogICAgYWxpZ24taXRlbXM6IGZsZXgtZW5kOwogICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgICAvKiBib3JkZXI6IHNvbGlkIHJlZCB0aGluOyAqLwogICAgCn0KCiNidXR0b25fdXBwZXJNZW51IHsKICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgIAogICAgcmlnaHQ6IDQlOwogICAgdG9wOiAyMCU7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsMCwwLDApOwogICAgLyogYm9yZGVyOiBzb2xpZCByZWQgdGhpbjsgKi8KICAgIHdpZHRoOiAzMHB4OwogICAgaGVpZ2h0OiAzMHB4OwogICAgY29sb3I6IHJnYmEoMCwwLDAsMSk7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMCwgMTM5LCAxMzksMC4xKTsKICAgIGJvcmRlci1yYWRpdXM6IDUwJTsKICAgIC8qIGNvbG9yOiBkYXJrb3JhbmdlOyAqLwogICAgCn0KCiNtZW51IHsKICAgICAgICAKICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICAgICAgei1pbmRleDogMTsKICAgICAgICB3aWR0aDogMTAwJTsKICAgICAgICBoZWlnaHQ6IDEwMCU7CiAgICAgICAgZGlzcGxheTogbm9uZTsKICAgICAgICBvcGFjaXR5OiAwOyAgICAgICAgCiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsKICAgICAgICAKICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKICAgICAgICAKICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMjBweCk7CiAgICAgICAgdHJhbnNpdGlvbjogb3BhY2l0eSAwLjJzLHRyYW5zZm9ybSAwLjJzOyAgICAKfQoKCgojbWVudSAgYSwgI21lbnUgYTp2aXNpdGVkLCNtZW51ICBhOmFjdGl2ZXsgICAgICAgIAogICAgICAgIGNvbG9yOiByZ2JhKDAsMCwwLDAuOSk7ICAgICAgICAKICAgICAgICAvKiBjb2xvcjogd2hpdGU7ICovCn0KCiNtZW51IGE6aG92ZXIgewogICAgICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTsKICAgICAgICAKfQoKI21lbnUgYSAgewogICAgICAgIGJhY2tncm91bmQtY29sb3I6ICByZ2IoMCwgMTM5LCAxMzksMC4wNSk7CiAgICAgICAgd2lkdGg6IDcwJTsKICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICAgICAgCn0KI21lbnUgYnV0dG9uIHsgIG1hcmdpbi1sZWZ0OiAwcHg7CiAgICAgICAgICAgICAgICB3aWR0aDogMTAwJTsKICAgICAgICAgICAgICAgIH0KCiNtZW51IG5hdiB7CiAgICAgICAgbWFyZ2luLXRvcDogMSU7CiAgICAgICAgCiAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7Cn0KCgo="},{"version":3,"sources":["Header.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqPA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;;AAEA;;;;AAIA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA","file":"Header.vue","sourceRoot":"src/components","sourcesContent":["\n<template>\n\n    <div>\n        <div id=\"Header\" class=\"container header\">\n            <div class=\"container\">\n                <div class=\"row\">\n                    <div class=\"col-8\" id=\"container_logo\">                        \n                        <img id=\"logo\" src=\"../assets/logo.png\" alt=\"logo\"> \n                        <span id=\"sectionTitle\">{{this.sectionTitle}}</span>  \n                    </div>\n                            \n                    <div class=\"col-4\" id=\"container_ButtonUpperMenu\">\n                        <button id=\"button_upperMenu\" v-on:click='openMenu'>{{this.initials}}</button>                                        \n                    </div>\n                </div>\n                        \n            </div>\n        </div>\n\n\n        <div id=\"menu\">\n            <div class=\"container\">\n                <nav class=\"row\">\n                    <button v-on:click='closeMenu'><h3>CLOSE</h3></button>\n                </nav>\n                <div id=\"options_container\">\n                    \n                    <nav class=\"row\">\n                        <a v-on:click='navigate(5,\"Account information\")' ><h4>My account</h4></a>                    \n                    </nav>\n\n                    <nav class=\"row\">\n                        <a  v-on:click='logout'><h4>Logout</h4></a>                      \n                    </nav>\n                </div>\n\n            </div>\n\n                        \n        </div>\n\n    </div>\n    \n\n</template>\n\n<script>\nexport default {\n    name:'Header',\n\n    mounted:function(){\n        this.userInitials();\n\n    },\n\n    data:function(){\n        return {\n            initials:''\n        }\n    },\n\n\n\n    methods:{\n\n        //gets the user initials\n        userInitials:function(){\n            let self=this;\n           let request= new XMLHttpRequest();            \n            request.open('GET','https://scripta-app.herokuapp.com/api/initials');        \n\n            let session_id=localStorage.getItem('session_id');\n            let user_id=localStorage.getItem('user_id');\n\n            request.setRequestHeader('session_id', session_id);               \n            request.setRequestHeader('user_id', user_id);               \n\n            //send request\n            request.send();  \n\n         request.onload=function(){\n            if(this.status==200){\n                let response=JSON.parse(this.responseText);\n                let initials=response.user_name;\n                    console.log(initials);\n                    initials=initials.substr(0,1);\n                    self.initials=initials;\n                    \n                    \n            } \n            else{\n                  alert(this.responseText); \n            }  \n        }   \n        },\n        //opens the menu    \n        openMenu:function(){\n            let modal=document.getElementById('menu');\n            let currentMenu=localStorage.getItem('section');\n            if(currentMenu!=5){\n                document.getElementById('Footer').style.display='none';\n            }    \n            \n            document.getElementById('Header').style.display='none';\n            let main = document.getElementsByTagName('main');\n                main[0].style.display='none';\n\n            modal.style.display='flex';\n            \n            setTimeout(() => {\n                modal.style.opacity='1';\n                modal.style.transform='translateY(0px)';\n\n            }, 100);\n\n        },\n\n        //closes menu\n        closeMenu:function(n){\n            if(!n){\n                this.userInitials();\n            }\n            \n            let modal=document.getElementById('menu');        \n\n\n\n            modal.style.opacity='0';\n            modal.style.transform='translateY(20px)';\n            setTimeout(() => {\n                modal.style.display='none';\n\n                document.getElementById('Footer').style.display='flex';\n                document.getElementById('Header').style.display='flex';\n                let main = document.getElementsByTagName('main');\n                    main[0].style.display='block';\n                    \n            }, 200);\n        },\n\n        logout:function(){\n            \n            //send request to delete the session from the database\n                let self = this;\n                //get session_id from localStorage             \n                let session_id=localStorage.getItem('session_id');  \n                \n                let request=new XMLHttpRequest();            \n                request.open('GET','https://scripta-app.herokuapp.com/api/logout');        \n                //set session_id header        \n                if(session_id){\n                request.setRequestHeader('session_id', session_id);               \n                }\n                //send request\n                request.send();  \n                \n                request.onload=function(){\n                    \n                    if(this.status==200){\n                        \n                        //logout\n                        localStorage.clear();\n                        self.closeMenu('logout');\n                        \n                        setTimeout(() => {\n                        self.$emit('navigation',0,'');     \n                        }, 200);\n                    } \n                    else{\n                        console.log(this.responseText);                                                                            \n                    }  \n                } \n        },\n\n         navigate:function(n,title){\n         \n            //set the selected section in local storage\n            localStorage.setItem('section',n);\n            localStorage.setItem('sectionTitle',title);\n\n            //get the with session_id\n            let session_id=localStorage.getItem('session_id');\n\n            //send GET request with session_id\n            let request= new XMLHttpRequest();    \n            \n            request.open('GET','https://scripta-app.herokuapp.com/api/navigate');        \n        \n            //set session_id header        \n            if(session_id){\n                    request.setRequestHeader('session_id', session_id);               \n            }\n\n            //send request\n            request.send();  \n            let self=this;\n            request.onload=function(){\n                if(this.status==200){                        \n                    self.closeMenu();\n                    \n                    setTimeout(() => {\n                    self.$emit('navigation',n,title);    \n                    }, 200);                                                \n                } \n                else{\n                        console.log(this.responseText);                    \n                        //redirect to login page\n                        if(this.responseText=='unauthorized'){\n                        self.$emit('navigation',0,'','login');      \n                           \n                        }\n                }  \n            }  \n \n        }\n    },\n\n    props:['sectionTitle','changedInitials'],\n\n    watch:{\n         changedInitials:function(newVal){\n               this.changedInitials=newVal;  \n               this.userInitials();               \n         }\n        //  }, \n        //  dossier:function(newVal){\n        //        this.dossier=newVal;   \n               \n        //  },\n        //  tags:function(newVal){\n        //          this.new_tags=newVal;                 \n        //  },\n        \n    },\n    \n      \n}\n</script>\n\n\n<style>\n\n\n\n.header {\n        position: relative;                  \n}\n\n.title {\n         text-align: center; \n         width: 100%;\n         }\n\n#container_logo{\n        position: relative;\n        width: auto;\n        /* border: solid blue thin; */\n        text-align: left;\n}   \n\n\n#logo { \n        height: 9vh;            \n}\n#sectionTitle {\n        \n        margin-left: 4%;\n        \n}\n\n\n\n#container_ButtonUpperMenu {\n    \n    display: flex;\n    flex-direction: column;\n    align-items: flex-end;\n    justify-content: center;\n    /* border: solid red thin; */\n    \n}\n\n#button_upperMenu {\n    position: absolute;\n    \n    right: 4%;\n    top: 20%;\n    background-color: rgba(0,0,0,0);\n    /* border: solid red thin; */\n    width: 30px;\n    height: 30px;\n    color: rgba(0,0,0,1);\n    background-color: rgb(0, 139, 139,0.1);\n    border-radius: 50%;\n    /* color: darkorange; */\n    \n}\n\n#menu {\n        \n        position: absolute;\n        z-index: 1;\n        width: 100%;\n        height: 100%;\n        display: none;\n        opacity: 0;        \n        flex-direction: column;\n        \n        justify-content: center;\n        \n        transform: translateY(20px);\n        transition: opacity 0.2s,transform 0.2s;    \n}\n\n\n\n#menu  a, #menu a:visited,#menu  a:active{        \n        color: rgba(0,0,0,0.9);        \n        /* color: white; */\n}\n\n#menu a:hover {\n        text-decoration: none;\n        \n}\n\n#menu a  {\n        background-color:  rgb(0, 139, 139,0.05);\n        width: 70%;\n        text-align: center;\n        \n}\n#menu button {  margin-left: 0px;\n                width: 100%;\n                }\n\n#menu nav {\n        margin-top: 1%;\n        \n        justify-content: center;\n}\n\n\n</style>"]}]}