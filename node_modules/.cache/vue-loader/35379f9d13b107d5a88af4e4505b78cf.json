{"remainingRequest":"/Users/stavros/Documents/web/diary/scripta/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/stavros/Documents/web/diary/scripta/src/components/EditDossier.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/stavros/Documents/web/diary/scripta/src/components/EditDossier.vue","mtime":1615237176937},{"path":"/Users/stavros/Documents/web/diary/scripta/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/stavros/Documents/web/diary/scripta/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/stavros/Documents/web/diary/scripta/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6J0VkaXREb3NzaWVyJywKCiAgICBkYXRhOmZ1bmN0aW9uKCl7CiAgICAgICAgcmV0dXJuewogICAgICAgIC8vICAgIGRvc3NpZXI6W10sCiAgICAgICAgICAgdXNlckRvc3NpZXJzOltdLAogICAgICAgICAgIGN1cnJlbnREb3NzaWVyOicnLAogICAgICAgICAgIAogICAgICAgIH0KICAgIH0sCgogICAgcHJvcHM6Wydkb3NzaWVyJ10sCgogICAgbW91bnRlZDpmdW5jdGlvbigpewoKICAgICAgICAvLyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW5wdXRfbmV3RG9zc2llcicpLnZhbHVlPXRoaXMuZG9zc2llci5kb3NzaWVyX25hbWU7CgogICAgICAgIHRoaXMuY3VycmVudERvc3NpZXI9dGhpcy5kb3NzaWVyLmRvc3NpZXJfbmFtZTsKCgogICAgICAgIC8vIHRoaXMuZ2V0RG9zc2llcnMoKTsKICAgICAgICAKICAgIH0sCgoKICAgIHdhdGNoOnsKICAgICAgICAgdXNlckRvc3NpZXJzOmZ1bmN0aW9uKG5ld1ZhbCl7CiAgICAgICAgICAgICAgIHRoaXMudXNlckRvc3NpZXJzPW5ld1ZhbDsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICB9LCAKICAgIH0sCgogICAgbWV0aG9kczp7CiAgICAgICAgCiAgICAgICAgZ2V0RG9zc2llcnM6ZnVuY3Rpb24oKXsKICAgICAgICAgICAgbGV0IGlucHV0PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbnB1dF9uZXdEb3NzaWVyJyk7CiAgICAgICAgICAgIGxldCBpbnB1dF92YWx1ZTsgICAgCiAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgIGxldCBzZWxmPXRoaXM7CiAgICAgICAgICAgIGxldCByZXF1ZXN0PSBuZXcgWE1MSHR0cFJlcXVlc3QoKTsgICAgICAgICAgICAKICAgICAgICAgICAgcmVxdWVzdC5vcGVuKCdHRVQnLCdodHRwczovL3NjcmlwdGEtYXBwLmhlcm9rdWFwcC5jb20vYXBpL2dldC11c2VyLWRvc3NpZXJzJyk7IAogICAgICAgICAgICAKICAgICAgICAgICAgIGlmKGlucHV0LnZhbHVlIT10aGlzLmRvc3NpZXIuZG9zc2llcl9uYW1lICYmIGlucHV0LnZhbHVlLnRyaW0oKSAgICAhPScnKXsKICAgICAgICAgICAgICAgIGlucHV0X3ZhbHVlPWlucHV0LnZhbHVlOwogICAgICAgICAgICAgICAgaW5wdXRfdmFsdWU9ZW5jb2RlVVJJKGlucHV0X3ZhbHVlKTsKICAgICAgICAgICAgICAgIHJlcXVlc3Quc2V0UmVxdWVzdEhlYWRlcignaW5wdXRfdmFsdWUnLGlucHV0X3ZhbHVlKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgbGV0IHNlc3Npb25faWQ9bG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Nlc3Npb25faWQnKTsKICAgICAgICAgICAgbGV0IHVzZXJfaWQ9bG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJfaWQnKTsKCiAgICAgICAgICAgIHJlcXVlc3Quc2V0UmVxdWVzdEhlYWRlcignc2Vzc2lvbl9pZCcsIHNlc3Npb25faWQpOyAgICAgICAgICAgICAgIAogICAgICAgICAgICByZXF1ZXN0LnNldFJlcXVlc3RIZWFkZXIoJ3VzZXJfaWQnLCB1c2VyX2lkKTsgICAgICAgICAgICAgICAKCiAgICAgICAgICAgIC8vc2VuZCByZXF1ZXN0CiAgICAgICAgICAgIHJlcXVlc3Quc2VuZCgpOyAgCgogICAgICAgICAgICByZXF1ZXN0Lm9ubG9hZD1mdW5jdGlvbigpewogICAgICAgICAgICAgICAgaWYodGhpcy5zdGF0dXM9PTIwMCl7CiAgICAgICAgICAgICAgICAgICAgbGV0IHJlc3BvbnNlPUpTT04ucGFyc2UodGhpcy5yZXNwb25zZVRleHQpOwoKCiAgICAgICAgICAgICAgICAgICAgaWYocmVzcG9uc2UhPScnKXsKICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi51c2VyRG9zc2llcnM9cmVzcG9uc2U7ICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBlbHNlewogICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnVzZXJEb3NzaWVycz0iIjsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB9IAogICAgICAgICAgICAgICAgZWxzZXsKICAgICAgICAgICAgICAgICAgICBhbGVydCh0aGlzLnJlc3BvbnNlVGV4dCk7CiAgICAgICAgICAgICAgICB9ICAKICAgICAgICAgICAgfSAgCgoKICAgICAgICAgICAgaWYoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2lucHV0X25ld0Rvc3NpZXInKS52YWx1ZSE9JycpewogICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXREb3NzaWVyX3VwZGF0ZScpLmRpc2FibGVkPWZhbHNlOwoKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlewogICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXREb3NzaWVyX3VwZGF0ZScpLmRpc2FibGVkPXRydWU7CiAgICAgICAgICAgIH0KCgoKICAgICAgICB9LAoKICAgICAgICBkZWxldGVEb3NzaWVyOmZ1bmN0aW9uKCl7CiAgICAgICAgICAgIHRoaXMuY3VycmVudERvc3NpZXI9Jyc7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbnB1dF9uZXdEb3NzaWVyJykudmFsdWU9Jyc7CiAgICAgICAgICAgIAogICAgICAgICAgICAKICAgICAgICB9LAoKICAgICAgICB1cGRhdGVJbnB1dDpmdW5jdGlvbihuYW1lKXsKICAgICAgICAgICAgCiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0RG9zc2llcl91cGRhdGUnKS5kaXNhYmxlZD1mYWxzZTsKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2lucHV0X25ld0Rvc3NpZXInKS52YWx1ZT1uYW1lOwogICAgICAgIH0sCiAgICAgICAgdXBkYXRlQ3VycmVudERvc3NpZXI6ZnVuY3Rpb24oKXsKICAgICAgICAgICB0aGlzLmN1cnJlbnREb3NzaWVyPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbnB1dF9uZXdEb3NzaWVyJykudmFsdWUudHJpbSgpOwogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdERvc3NpZXJfdXBkYXRlJykuZGlzYWJsZWQ9dHJ1ZTsKICAgICAgICB9CiAgICAgICAgCgogICAgICAgLy8KCiAgICB9LAp9Cg=="},{"version":3,"sources":["EditDossier.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8CA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;;AAGA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;;;;AAIA;;AAEA;AACA;AACA;;;AAGA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA","file":"EditDossier.vue","sourceRoot":"src/components","sourcesContent":["\n<template>\n\n    <div id=\"EditDossier\" class=\"container\">\n\n        <div class=\"row\">\n            <button v-on:click='$emit(\"back_noteDossier\",currentDossier)'>\n                <i class=\"fas fa-caret-left back\"></i>\n            </button>\n        </div>\n\n\n\n        <div class=\"container\">\n            <h5 class=\"row darkcyan\">Edit or remove dossier</h5>\n        </div>\n        \n        <div class=\"container\" style=\"height:200px\">               \n\n                <div v-if=\"this.userDossiers!=''\">\n                    <div class=\"sideDataContainer row record\" v-for=\"(userDossier,index) in userDossiers\" :key=\"index\" >                                            \n                        <button v-on:click='updateInput(userDossier.dossier_name)' class=\"col-12  left\"><i  class=\"fas fa-folder darkcyan\"> <span class=\"black\"> <p>{{userDossier.dossier_name}}</p></span>  </i></button>                                                                 \n                    </div>    \n                </div>     \n\n        </div>\n\n        <div class=\"container\">\n            <div class=\"row darkcyan\">\n                <b><p class=\"vertical-centre \" style=\"height:40px;\"> {{this.currentDossier}} </p></b>\n                <button class=\"left1\" v-if='this.currentDossier!=\"\"' v-on:click='deleteDossier'><b><i class=\"far fa-trash-alt\"></i></b></button>\n            </div>\n\n            <div class=\"row top1\" id=\"editDossier_inputContainer\">\n                <input class=\"col-12 \" v-on:keyup='getDossiers' type=\"text\" id=\"input_newDossier\">\n                <button id=\"editDossier_update\" class=\"top1 col-12 button_secondary\" disabled v-on:click='updateCurrentDossier'>Update</button>                \n            </div>\n\n        </div>\n\n\n    </div>    \n</template>\n\n\n<script>\nexport default {\n    name:'EditDossier',\n\n    data:function(){\n        return{\n        //    dossier:[],\n           userDossiers:[],\n           currentDossier:'',\n           \n        }\n    },\n\n    props:['dossier'],\n\n    mounted:function(){\n\n        // document.getElementById('input_newDossier').value=this.dossier.dossier_name;\n\n        this.currentDossier=this.dossier.dossier_name;\n\n\n        // this.getDossiers();\n        \n    },\n\n\n    watch:{\n         userDossiers:function(newVal){\n               this.userDossiers=newVal;                                \n         }, \n    },\n\n    methods:{\n        \n        getDossiers:function(){\n            let input=document.getElementById('input_newDossier');\n            let input_value;    \n                       \n            let self=this;\n            let request= new XMLHttpRequest();            \n            request.open('GET','https://scripta-app.herokuapp.com/api/get-user-dossiers'); \n            \n             if(input.value!=this.dossier.dossier_name && input.value.trim()    !=''){\n                input_value=input.value;\n                input_value=encodeURI(input_value);\n                request.setRequestHeader('input_value',input_value);\n            }\n\n            let session_id=localStorage.getItem('session_id');\n            let user_id=localStorage.getItem('user_id');\n\n            request.setRequestHeader('session_id', session_id);               \n            request.setRequestHeader('user_id', user_id);               \n\n            //send request\n            request.send();  \n\n            request.onload=function(){\n                if(this.status==200){\n                    let response=JSON.parse(this.responseText);\n\n\n                    if(response!=''){\n                        self.userDossiers=response;                        \n                        \n                    }\n                    else{\n                        self.userDossiers=\"\";\n                    }\n                                \n                } \n                else{\n                    alert(this.responseText);\n                }  \n            }  \n\n\n            if(document.getElementById('input_newDossier').value!=''){\n                document.getElementById('editDossier_update').disabled=false;\n\n            }\n            else{\n                document.getElementById('editDossier_update').disabled=true;\n            }\n\n\n\n        },\n\n        deleteDossier:function(){\n            this.currentDossier='';\n            document.getElementById('input_newDossier').value='';\n            \n            \n        },\n\n        updateInput:function(name){\n            \n            document.getElementById('editDossier_update').disabled=false;\n            document.getElementById('input_newDossier').value=name;\n        },\n        updateCurrentDossier:function(){\n           this.currentDossier=document.getElementById('input_newDossier').value.trim();\n            document.getElementById('editDossier_update').disabled=true;\n        }\n        \n\n       //\n\n    },\n}\n</script>\n\n\n<style>\n\n\n\n</style>\n\n"]}]}