{"remainingRequest":"/Users/stavros/Documents/web/diary/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/stavros/Documents/web/diary/src/App.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/stavros/Documents/web/diary/src/App.vue","mtime":1611703630779},{"path":"/Users/stavros/Documents/web/diary/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/stavros/Documents/web/diary/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/stavros/Documents/web/diary/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/stavros/Documents/web/diary/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQgSGVhZGVyMSBmcm9tICcuL2NvbXBvbmVudHMvSGVhZGVyMSc7CmltcG9ydCBIZWFkZXIgZnJvbSAnLi9jb21wb25lbnRzL0hlYWRlcic7CmltcG9ydCBMb2dpbiBmcm9tICcuL2NvbXBvbmVudHMvTG9naW4nOwppbXBvcnQgU2lnbnVwIGZyb20gJy4vY29tcG9uZW50cy9TaWdudXAnOwppbXBvcnQgSW5kZXggZnJvbSAnLi9jb21wb25lbnRzL0luZGV4JzsKaW1wb3J0IEZvb3RlciBmcm9tICcuL2NvbXBvbmVudHMvRm9vdGVyJzsKaW1wb3J0IE5ldyBmcm9tICcuL2NvbXBvbmVudHMvTmV3JzsKaW1wb3J0IERvc3NpZXIgZnJvbSAnLi9jb21wb25lbnRzL0Rvc3NpZXInOwppbXBvcnQgQ2FsZW5kYXIgZnJvbSAnLi9jb21wb25lbnRzL0NhbGVuZGFyJzsKaW1wb3J0IFVzZXJzIGZyb20gJy4vY29tcG9uZW50cy9Vc2Vycyc7CgoKCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0FwcCcsCiAgY29tcG9uZW50czogewogICAgTG9naW4sU2lnbnVwLEhlYWRlcjEsCiAgICBJbmRleCxIZWFkZXIsIEZvb3RlciwKICAgIE5ldyxEb3NzaWVyLENhbGVuZGFyLFVzZXJzCiAgfSwKCiAgZGF0YTpmdW5jdGlvbigpewogICAgcmV0dXJuIHsKICAgICAgbWVudTowLAogICAgICBzZWN0aW9uVGl0bGU6J0FwcGxpY2F0aW9uIHRpdGxlJywKICAgICAgYXR0YWNobWVudHM6W10sCiAgICAgIGRvc3NpZTonJywKICAgICAgdGFnczpbXSwKICAgIH0KICB9LAoKIG1vdW50ZWQ6ZnVuY3Rpb24oKXsKICAKICAvLyAgbG9jYWxTdG9yYWdlLmNsZWFyKCk7CiAgIC8vaWYgdXNlciByZWxvYWRzIHBhZ2UsIGNoZWNrIGxvY2FsU3RvcmFnZSB0byBzZWUgaW4gd2hpY2ggc2VjdGlvbgogICAvL3RoZSB1c2VyIHdhcwogIC8vICBsZXQgc2VjdGlvbj1sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnc2VjdGlvbicpOwogIC8vICBpZihzZWN0aW9uKXsKICAgICAKICAvLyAgICBzZWN0aW9uPXBhcnNlSW50KHNlY3Rpb24pOwogIC8vICAgIGxldCBzZWN0aW9uVGl0bGU9bG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3NlY3Rpb25UaXRsZScpOwogIC8vICAgIHRoaXMubmF2aWdhdGUoc2VjdGlvbixzZWN0aW9uVGl0bGUpOyAgICAgCiAgLy8gIH0KCiAgIC8vZmlyc3QgdGltZSB0aGUgdXNlciBsb2FkcyB0aGUgYXBwCiAgLy8gIGVsc2V7CgogICAgICAgIC8vY2FsbCBmdW5jdGlvbiB0byBjaGVjayBpZiBzZXNzaW9uX2lkIGlzIGV4cGlyZWQgd2hlbiB0aGUgd2luZG93IGNsb3NlcwogICAgICAgIHRoaXMuY2hlY2tFeHBpcnkoKTsKCiAgICAgICAgbGV0IHNlbGY9dGhpczsKICAgICAgICAKICAgICAgICAvL2lmIHRoZSB1c2VyIGlzIGxvZ2dlZCBpbiBnbyBkaXJlY3RseSB0byBob21lIHBhZ2UKCiAgICAgICAgLy9nZXQgdGhlIHNlc3Npb25faWQKICAgICAgICAgIGxldCBzZXNzaW9uX2lkPWxvY2FsU3RvcmFnZS5nZXRJdGVtKCdzZXNzaW9uX2lkJyk7CiAgICAgICAgICAKICAgICAgICAvL3NlbmQgR0VUIHJlcXVlc3Qgd2l0aCBzZXNzaW9uX2lkCiAgICAgICAgICBsZXQgcmVxdWVzdD0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7ICAgIAogICAgICAgICAgICAgIAogICAgICAgICAgcmVxdWVzdC5vcGVuKCdHRVQnLCdodHRwOi8vbG9jYWxob3N0OjgwODAvYXBpL25hdmlnYXRlJyk7ICAgICAgICAKICAgICAgICAgIC8vc2V0IHNlc3Npb25faWQgaGVhZGVyICAgICAgICAKICAgICAgICAgIGlmKHNlc3Npb25faWQpewogICAgICAgICAgICByZXF1ZXN0LnNldFJlcXVlc3RIZWFkZXIoJ3Nlc3Npb25faWQnLCBzZXNzaW9uX2lkKTsgICAgICAgICAgICAgICAKICAgICAgICAgIH0KCiAgICAgICAgLy9zZW5kIHJlcXVlc3QKICAgICAgICByZXF1ZXN0LnNlbmQoKTsgIAogICAgICAgIAogICAgICAgIHJlcXVlc3Qub25sb2FkPWZ1bmN0aW9uKCl7CiAgICAgICAgaWYodGhpcy5zdGF0dXM9PTIwMCl7CiAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgc2VsZi5uYXZpZ2F0ZSgxLCdBcHBsaWNhdGlvbiB0aXRsZScpOwogICAgICAgICAgICAKICAgICAgICAgICAgCiAgICAgICAgICAgIAogICAgICAgICAgfSAKICAgICAgICAgIGVsc2V7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMucmVzcG9uc2VUZXh0KTsgICAgICAKICAgICAgICAgICAgLy9yZWRpcmVjdCB0byBsb2dpbiBwYWdlCiAgICAgICAgICBpZih0aGlzLnJlc3BvbnNlVGV4dD09J3VuYXV0aG9yaXplZCcpewogICAgICAgICAgICBzZWxmLm5hdmlnYXRlKDAsJycsJ2xvZ2luJykgICAgICAgCiAgICAgICAgICAgIH0KICAgICAgICAgIH0gIAogICAgICAgIH0gIAoKICAgICAgICAvL3NldCB0aGUgYmFja2dyb3VuZC1jb2xvdXIgb2YgdGhlIGhvbWUgaWNvbgogICAgICAgIGxldCBmb290ZXJCdXR0b25zPWRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2J1dHRvbl9tYWluJyk7CiAgICAgICAgZm9vdGVyQnV0dG9uc1swXS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9J3JnYigwLCAxMzgsIDEzOCwwLjEpJzsgICAKCiAgLy8gIH0KICAgIAogIAogICAKIH0sCiAKICBtZXRob2RzOnsKCiAgICAKICAgIG5hdmlnYXRlOmZ1bmN0aW9uKG4sc2VjdGlvblRpdGxlKXsgICAgICAKICAgICAgCiAgICAgIHRoaXMubWVudT1uOwogICAgICB0aGlzLnNlY3Rpb25UaXRsZT1zZWN0aW9uVGl0bGU7CgogICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnc2VjdGlvbicsbik7CiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdzZWN0aW9uVGl0bGUnLHNlY3Rpb25UaXRsZSk7CiAgICAgIAoKICAgICAgLy8gbGV0IFVzZXJzPWxvY2FsU3RvcmFnZS5nZXRJdGVtKCdVc2VycycpOwogICAgICAKICAgICAgLy9oaWdobGlnaHQgc2VsZWN0ZWQgbWVudSBzZWN0aW9uCiAgICAgIGlmKG4hPTUgJiYgbiE9MCAmJiBuIT0tMSl7IC8vNT09dGhlIGFjY291bnQgaW5mb3JtYXRpb24gc2NyZWVuLDA9bG9naW4sLTE9c2lnbiB1cAoKICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgncHJldmlvdXNTZWN0aW9uJyxuKTsKICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgncHJldmlvdXNTZWN0aW9uVGl0bGUnLHNlY3Rpb25UaXRsZSk7CiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7ICAgICAgICAgIAogICAgICAgICAgbGV0IGZvb3RlckJ1dHRvbnM9ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnZm9vdGVyX2J1dHRvbl9tYWluJyk7CiAgICAgICAgICBsZXQgYzsKICAgICAgICAgIC8vIGNoYW5nZSBiYWNrZ3JvdW5kLWNvbG91ciBvZiBjdXJyZW50bHkgYWN0aXZlIG1lbnUgb3B0aW9uCiAgICAgICAgICBmb3IoYz0wO2M8Zm9vdGVyQnV0dG9ucy5sZW5ndGg7YysrKXsKICAgICAgICAgICAgICBmb290ZXJCdXR0b25zW2NdLnN0eWxlLmJhY2tncm91bmRDb2xvcj0ncmdiYSgwLDAsMCwwKSc7CiAgICAgICAgICB9CiAgICAgICAgICBmb290ZXJCdXR0b25zW24tMV0uc3R5bGUuYmFja2dyb3VuZENvbG9yPSdyZ2IoMCwgMTM4LCAxMzgsMC4xKSc7CiAgICAgICAgICAvLyBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnVXNlcnMnKTsKICAgICAgICB9LCAyMDApOwogICAgICB9IAogICAgfSwKCiAgICAKICAgIGNoZWNrRXhwaXJ5OmZ1bmN0aW9uKCl7CiAgICAgIAogICAgICAvL2dldCBzZXNzaW9uX2lkCiAgICAgIGxldCBzZXNzaW9uX2lkPWxvY2FsU3RvcmFnZS5nZXRJdGVtKCdzZXNzaW9uX2lkJyk7CgogICAgICAvL3NlbmQgR0VUIHJlcXVlc3QgCiAgICAgIGxldCByZXF1ZXN0PW5ldyBYTUxIdHRwUmVxdWVzdCgpOwoKICAgICAgcmVxdWVzdC5vcGVuKCdHRVQnLCdodHRwOi8vbG9jYWxob3N0OjgwODAvYXBpL2V4cGlyeScpOyAgICAgICAgCiAgICAgIAogICAgICBpZihzZXNzaW9uX2lkKXsKICAgICAgcmVxdWVzdC5zZXRSZXF1ZXN0SGVhZGVyKCdzZXNzaW9uX2lkJywgc2Vzc2lvbl9pZCk7ICAKICAgICAgfSAgICAgIAogICAgICByZXF1ZXN0LnNlbmQoKTsgIAoKICAgICAgcmVxdWVzdC5vbmxvYWQ9ZnVuY3Rpb24oKXsKICAgICAgICAgIGlmKHRoaXMuc3RhdHVzPT0yMDApewogICAgICAgICAgICAKICAgICAgICAgICAgaWYodGhpcy5yZXNwb25zZVRleHQ9PSdzZXNzaW9uIGV4cGlyZWQnKXsKICAgICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnJlc3BvbnNlVGV4dCk7CiAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLmNsZWFyKCk7ICAgICAgICAgICAgICAKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlewogICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMucmVzcG9uc2VUZXh0KTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgICAgZWxzZXsKICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5yZXNwb25zZVRleHQpOwogICAgICAgICAgfSAgICAgICAgICAKICAgICAgfQogICAgICAKICAgIH0KICB9Cgp9Cg=="},{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAmBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;;;AAIA;;AAEA;;;AAGA;;AAEA;AACA;;AAEA;AACA;;;AAGA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA","file":"App.vue","sourceRoot":"src","sourcesContent":["<template>\n\n  <div id=\"app\">\n    <div id=\"warning\" ><b><p>Please rotate your device in portrait position</p></b></div>    \n    <Header1 v-if=\"menu<=0\"/>\n   <Header v-if=\"menu>0\" v-bind:sectionTitle='sectionTitle' v-on:navigation='navigate' />\n   <Login v-if=\"menu==0\" v-on:navigation='navigate'/>\n   <Signup v-if=\"menu==(-1)\" v-on:gotoLogin='navigate'  />\n   <Index v-if=\"menu==1\" />\n   <New v-if=\"menu==2\" />\n   <Dossier v-if=\"menu==3\" />\n   <Calendar v-if=\"menu==4\" />\n    <Users v-if=\"menu==5\" v-on:navigate='navigate'/>\n   <Footer v-if=\"menu>0 && menu!=5\" id=\"Footer\" v-bind:menu='menu' v-on:navigation='navigate' v-on:metadata='metadata'  />\n  </div>\n</template>\n\n<script>\n\nimport Header1 from './components/Header1';\nimport Header from './components/Header';\nimport Login from './components/Login';\nimport Signup from './components/Signup';\nimport Index from './components/Index';\nimport Footer from './components/Footer';\nimport New from './components/New';\nimport Dossier from './components/Dossier';\nimport Calendar from './components/Calendar';\nimport Users from './components/Users';\n\n\n\n\nexport default {\n  name: 'App',\n  components: {\n    Login,Signup,Header1,\n    Index,Header, Footer,\n    New,Dossier,Calendar,Users\n  },\n\n  data:function(){\n    return {\n      menu:0,\n      sectionTitle:'Application title',\n      attachments:[],\n      dossie:'',\n      tags:[],\n    }\n  },\n\n mounted:function(){\n  \n  //  localStorage.clear();\n   //if user reloads page, check localStorage to see in which section\n   //the user was\n  //  let section=localStorage.getItem('section');\n  //  if(section){\n     \n  //    section=parseInt(section);\n  //    let sectionTitle=localStorage.getItem('sectionTitle');\n  //    this.navigate(section,sectionTitle);     \n  //  }\n\n   //first time the user loads the app\n  //  else{\n\n        //call function to check if session_id is expired when the window closes\n        this.checkExpiry();\n\n        let self=this;\n        \n        //if the user is logged in go directly to home page\n\n        //get the session_id\n          let session_id=localStorage.getItem('session_id');\n          \n        //send GET request with session_id\n          let request= new XMLHttpRequest();    \n              \n          request.open('GET','http://localhost:8080/api/navigate');        \n          //set session_id header        \n          if(session_id){\n            request.setRequestHeader('session_id', session_id);               \n          }\n\n        //send request\n        request.send();  \n        \n        request.onload=function(){\n        if(this.status==200){\n                      \n            self.navigate(1,'Application title');\n            \n            \n            \n          } \n          else{\n            console.log(this.responseText);      \n            //redirect to login page\n          if(this.responseText=='unauthorized'){\n            self.navigate(0,'','login')       \n            }\n          }  \n        }  \n\n        //set the background-colour of the home icon\n        let footerButtons=document.getElementsByClassName('button_main');\n        footerButtons[0].style.backgroundColor='rgb(0, 138, 138,0.1)';   \n\n  //  }\n    \n  \n   \n },\n \n  methods:{\n\n    \n    navigate:function(n,sectionTitle){      \n      \n      this.menu=n;\n      this.sectionTitle=sectionTitle;\n\n      localStorage.setItem('section',n);\n      localStorage.setItem('sectionTitle',sectionTitle);\n      \n\n      // let Users=localStorage.getItem('Users');\n      \n      //highlight selected menu section\n      if(n!=5 && n!=0 && n!=-1){ //5==the account information screen,0=login,-1=sign up\n\n        localStorage.setItem('previousSection',n);\n        localStorage.setItem('previousSectionTitle',sectionTitle);\n        setTimeout(() => {          \n          let footerButtons=document.getElementsByClassName('footer_button_main');\n          let c;\n          // change background-colour of currently active menu option\n          for(c=0;c<footerButtons.length;c++){\n              footerButtons[c].style.backgroundColor='rgba(0,0,0,0)';\n          }\n          footerButtons[n-1].style.backgroundColor='rgb(0, 138, 138,0.1)';\n          // localStorage.removeItem('Users');\n        }, 200);\n      } \n    },\n\n    \n    checkExpiry:function(){\n      \n      //get session_id\n      let session_id=localStorage.getItem('session_id');\n\n      //send GET request \n      let request=new XMLHttpRequest();\n\n      request.open('GET','http://localhost:8080/api/expiry');        \n      \n      if(session_id){\n      request.setRequestHeader('session_id', session_id);  \n      }      \n      request.send();  \n\n      request.onload=function(){\n          if(this.status==200){\n            \n            if(this.responseText=='session expired'){\n              console.log(this.responseText);\n              localStorage.clear();              \n            }\n            else{\n              console.log(this.responseText);\n            }\n          }\n          else{\n            console.log(this.responseText);\n          }          \n      }\n      \n    }\n  }\n\n}\n</script>\n\n<style>\nbody {\n      \n      height: 100vh;\n      background-image: url('./assets/background2.png');\n      background-size: contain;\n      background-position: center;\n      /* background-origin: content-box; */\n      \n      \n}\n\n#app {\n      position: relative;\n      margin-top: auto;\n      margin-bottom: auto;\n      height: 100%;\n      \n}\n\n\n#warning {\n            background-color: black; \n            color: white;\n            position: absolute; top: 0;\n            z-index: 1;\n            height: 100%;\n            width: 100%;\n            display: none;\n            justify-content: center;\n            align-items: center;\n  }\n\n\n\n\n\n#Header, #Header1 {\n         margin-top: 1vh;\n         /* its height will be determined by the logo image  */\n         /* which is set to 10vh */\n        \n         height: 9vh; \n         \n         \n}\n\n#Signup {height: auto;}\n\nmain { \n      \n      position: relative;\n      height: 68vh;\n      margin-top: 2vh;\n      \n      overflow-y: scroll;   \n\n\n}\n\n#Footer  {\n          height: 20vh;\n          \n          \n          \n} \n\n.header {\n        justify-content: center;\n}\n\nform {\n      justify-content: center;\n      padding: 2%;\n} \n\n  input {\n    outline: none;\n  }\n\n  input:focus,textarea:focus {  \n                              outline: none;\n                             \n  }\n   \n button {\n         background-color: rgba(0,0,0,0);\n         font-weight: bold;\n         border: none;\n         height: 40px;\n         color: darkcyan;   \n}\n\na{cursor: pointer;}\n\n.inputText {\n  background-color:rgb(0, 139, 139,0.05);\n  color: rgba(0,0,0,0.8);\n  border: none;\n}\n\n button:focus{\n        outline: none;              \n}\n\n.button_primary {\n                      \n        /* border: solid darkcyan thin; */\n        color: white;  \n        background-color: rgb(0, 139, 139,1);              \n        height: 40px;\n        /* border-radius: 50px;     */\n    }\n:disabled {\n      background-color: whitesmoke;\n      color: rgba(0,0,0,0.9);\n  }\n\n  .focus {    \n    border: solid red medium;\n  }\n\n</style>\n"]}]}