{"remainingRequest":"/Users/stavros/Documents/web/diary/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/stavros/Documents/web/diary/src/components/Dossier.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/Users/stavros/Documents/web/diary/src/components/Dossier.vue","mtime":1613256823991},{"path":"/Users/stavros/Documents/web/diary/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/stavros/Documents/web/diary/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/stavros/Documents/web/diary/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/stavros/Documents/web/diary/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/stavros/Documents/web/diary/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLmRvc3NpZXJfcm93ewogICAgYm9yZGVyOiBzb2xpZCBkYXJrY3lhbiB0aGluOyAgICAKIH0K"},{"version":3,"sources":["Dossier.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkHA;AACA;AACA","file":"Dossier.vue","sourceRoot":"src/components","sourcesContent":["<template>\n\n    <main id=\"Dossier\" class=\"container\">\n        <transition name=\"fade\">\n            <div v-if=\"!openNotes\">\n                <div class=\"row justify-centre systemMessage\" v-if=\"!hasDossier\">You have no recent dossiers</div>\n                <div v-if=\"hasDossier\" >\n                    \n                    <div class=\"row results_row\" v-for=\"dossier in dossiers\" :key=\"dossier\">\n    \n                        <div class=\"col col-1\">\n                            <i class=\"fas fa-folder full right results_label\"> </i>                        \n                        </div>\n    \n                        <div class=\"col results_label\">\n                            {{dossier.dossier_name}}                       \n                        </div>\n    \n                        <div class=\"col col-1\">\n                            <i class=\"fas fa-feather-alt results_label full left\"> {{dossier.count}} </i>                          \n                        </div>\n    \n                        <button class=\"col\" v-on:click='showNotes(dossier.dossier_id,dossier.dossier_name)'>open</button>\n    \n                    </div>\n                </div>\n            </div>\n        </transition>\n            \n    <transition name=\"fade\">\n        <Notes v-if=\"openNotes\" v-on:back_dossiers='back_dossiers' v-bind:dossier='selectedDossier' />\n    </transition>\n\n    </main>    \n\n</template>\n\n<script>\nimport Notes from './Notes';\nexport default {\n    name:'Dossier',\n\n    components: {\n    Notes\n    },\n\n    data:function(){\n        return{\n           dossiers:[],\n           hasDossier:true,\n           openNotes:false,\n           selectedDossier:[]\n           \n        }\n    },\n\n    mounted:function(){\n\n        let self=this;\n        let request= new XMLHttpRequest();            \n        request.open('GET','/api/get-dossiers-info');\n        let session_id=localStorage.getItem('session_id');\n        let user_id=localStorage.getItem('user_id');\n        request.setRequestHeader('session_id', session_id);               \n        request.setRequestHeader('user_id', user_id);               \n        //send request\n        request.send();  \n\n\n        request.onload=function(){\n            if(this.status==200){\n                if(this.responseText!=''){\n                    self.hasDossier=true;\n\n                    let response = JSON.parse(this.responseText);\n\n                    response.forEach(r => {\n                        self.dossiers.push(r);   \n                        \n                    });\n\n                }\n                \n                \n            } \n            else{\n                console.log(this.responseText);\n            }  \n        }  \n\n\n        \n\n    },\n\n    methods:{\n       \n       showNotes:function(dossier_fk,dossier_name){\n           \n           this.selectedDossier=({dossier_fk:dossier_fk,dossier_name:dossier_name});\n           \n           this.openNotes=true;\n       },\n\n       back_dossiers:function(){\n           this.openNotes=false;\n       }\n\n    },\n}\n</script>\n\n\n<style>\n   .dossier_row{\n       border: solid darkcyan thin;    \n    }\n</style>"]}]}