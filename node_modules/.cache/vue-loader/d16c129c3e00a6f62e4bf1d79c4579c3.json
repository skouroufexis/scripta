{"remainingRequest":"/Users/stavros/Documents/web/diary/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/stavros/Documents/web/diary/src/components/Users.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/stavros/Documents/web/diary/src/components/Users.vue","mtime":1614285299195},{"path":"/Users/stavros/Documents/web/diary/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/stavros/Documents/web/diary/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/stavros/Documents/web/diary/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/stavros/Documents/web/diary/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6J1VzZXJzJywKCiAgICBkYXRhOmZ1bmN0aW9uKCl7CiAgICAgICAgcmV0dXJuewogICAgICAgICAgIC8vCiAgICAgICAgfQogICAgfSwKCiAgICBtb3VudGVkOmZ1bmN0aW9uKCl7CgogICAgICAgIGxldCBpbnB1dHM9ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2lucHV0Jyk7CiAgICAgICAgaW5wdXRzLmZvckVhY2goaT0+ewogICAgICAgICAgICBpLmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJyxmdW5jdGlvbigpewogICAgICAgICAgICAgICAgaS5jbGFzc0xpc3QucmVtb3ZlKCdmb2N1cycpOwogICAgICAgICAgICAgICAgaWYoaT09PWlucHV0c1sxXSl7CiAgICAgICAgICAgICAgICAgICAgIGxldCBwYXNzd29yZDE9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25ld1Bhc3N3b3JkMScpLnZhbHVlOyAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICBsZXQgcGFzc3dvcmQyPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZXdQYXNzd29yZDInKTsKCiAgICAgICAgICAgICAgICAgICAgaWYocGFzc3dvcmQxLmxlbmd0aD49OCl7CiAgICAgICAgICAgICAgICAgICAgICAgIHBhc3N3b3JkMi5kaXNhYmxlZD1mYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGVsc2V7CiAgICAgICAgICAgICAgICAgICAgICAgIHBhc3N3b3JkMi5kaXNhYmxlZD10cnVlOwogICAgICAgICAgICAgICAgICAgICAgICBwYXNzd29yZDIudmFsdWU9Jyc7CiAgICAgICAgICAgICAgICAgICAgICAgIHBhc3N3b3JkMi5jbGFzc0xpc3QucmVtb3ZlKCdmb2N1cycpOwogICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pCiAgICAgICAgfSkKCiAgICAgICAgLy9HRVQgcmVxdWVzdCB0byByZXRyaWV2ZSB1c2VyIGFjY291bnQgaW5mbwogICAgICAgIGxldCByZXF1ZXN0PSBuZXcgWE1MSHR0cFJlcXVlc3QoKTsgICAgCiAgICAgICAgCiAgICAgICAgbGV0IHNlc3Npb25faWQ9bG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Nlc3Npb25faWQnKTsKICAgICAgICBsZXQgdXNlcl9pZD1sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcl9pZCcpOwoKICAgICAgICByZXF1ZXN0Lm9wZW4oJ0dFVCcsJ2h0dHA6Ly9sb2NhbGhvc3Q6ODA4MC9hcGkvYWNjb3VudCcpOyAgICAgICAgCgogICAgICAgIC8vc2V0IHNlc3Npb25faWQgaGVhZGVyICAgICAgICAKICAgICAgICBpZihzZXNzaW9uX2lkKXsKICAgICAgICAgICAgcmVxdWVzdC5zZXRSZXF1ZXN0SGVhZGVyKCdzZXNzaW9uX2lkJywgc2Vzc2lvbl9pZCk7CiAgICAgICAgICAgIHJlcXVlc3Quc2V0UmVxdWVzdEhlYWRlcigndXNlcl9pZCcsIHVzZXJfaWQpOyAgICAgICAgICAgICAgIAogICAgICAgIH0KCiAgICAgICAgLy9zZW5kIHJlcXVlc3QKICAgICAgICByZXF1ZXN0LnNlbmQoKTsgIAoKICAgICAgICByZXF1ZXN0Lm9ubG9hZD1mdW5jdGlvbigpewogICAgICAgICAgICBpZih0aGlzLnN0YXR1cz09MjAwKXsKICAgICAgICAgICAgICAgIGxldCByZXNwb25zZT1KU09OLnBhcnNlKHRoaXMucmVzcG9uc2VUZXh0KTsKICAgICAgICAgICAgICAgICAgICBsZXQgdXNlcl9uYW1lPXJlc3BvbnNlLnVzZXJfbmFtZTsKICAgICAgICAgICAgICAgICAgICBsZXQgdXNlcl9lbWFpbD1yZXNwb25zZS51c2VyX2VtYWlsOwogICAgICAgICAgICAgICAgICAgIC8vIGxldCB1c2VyX3Bhc3N3b3JkPXJlc3BvbnNlLnVzZXJfcGFzc3dvcmQ7CiAgICAgICAgICAgICAgICAgICAgLy8gICAgIHVzZXJfcGFzc3dvcmQ9dXNlcl9wYXNzd29yZC5zdWJzdHIoMCwzKTsKICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndXNlcnNfdXNlcm5hbWUnKS52YWx1ZT11c2VyX25hbWUKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1c2Vyc19lbWFpbCcpLnZhbHVlPXVzZXJfZW1haWw7CiAgICAgICAgICAgICAgICAvLyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGFzc3dvcmQnKS5pbm5lckhUTUw9dXNlcl9wYXNzd29yZDsKICAgICAgICAgICAgfSAKICAgICAgICAgICAgZWxzZXsKICAgICAgICAgICAgICAgICAvLyAgIAogICAgICAgICAgICB9ICAKICAgICAgICB9ICAKCgogICAgICAgIAogICAgfSwKCgogICAgbWV0aG9kczp7CgogICAgICAgIGVuYWJsZUVkaXQ6ZnVuY3Rpb24oKXsKICAgICAgICAgICAgbGV0IGlucHV0cyA9ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnaW5wdXQnKTsKICAgICAgICAgICAgaW5wdXRzLmZvckVhY2goaSA9PiB7CiAgICAgICAgICAgICAgICBpLmRpc2FibGVkPWZhbHNlOyAgICAgICAgICAgICAgICAKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndXNlcnNfdXBkYXRlJykuc3R5bGUuZGlzcGxheT0nYmxvY2snOwogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndXNlcnNfY2FuY2VsJykuc3R5bGUuZGlzcGxheT0nYmxvY2snOwogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnV0dG9uUGFzc3dvcmRNb2RhbCcpLnN0eWxlLmRpc3BsYXk9J2Jsb2NrJzsKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VzZXJzX2VkaXQnKS5zdHlsZS5kaXNwbGF5PSdub25lJzsKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VzZXJzX2RlbGV0ZScpLnN0eWxlLmRpc3BsYXk9J25vbmUnOwogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndXNlcnNfYmFjaycpLnN0eWxlLmRpc3BsYXk9J25vbmUnOwoKICAgICAgICB9LAogICAgICAgIGNhbmNlbDpmdW5jdGlvbigpewogICAgICAgICAgICBsZXQgaW5wdXRzID1kb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdpbnB1dCcpOwogICAgICAgICAgICBpbnB1dHMuZm9yRWFjaChpID0+IHsKICAgICAgICAgICAgICAgIGkuZGlzYWJsZWQ9dHJ1ZTsgICAgICAgICAgICAgICAgCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VzZXJzX3VwZGF0ZScpLnN0eWxlLmRpc3BsYXk9J25vbmUnOwogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndXNlcnNfY2FuY2VsJykuc3R5bGUuZGlzcGxheT0nbm9uZSc7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidXR0b25QYXNzd29yZE1vZGFsJykuc3R5bGUuZGlzcGxheT0nbm9uZSc7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1c2Vyc19lZGl0Jykuc3R5bGUuZGlzcGxheT0nYmxvY2snOwogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndXNlcnNfZGVsZXRlJykuc3R5bGUuZGlzcGxheT0nYmxvY2snOwogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndXNlcnNfYmFjaycpLnN0eWxlLmRpc3BsYXk9J2Jsb2NrJzsKICAgICAgICAgICAgCiAgICAgICAgfSwKICAgICAgICBkZWxldGVBY2NvdW50OmZ1bmN0aW9uKCl7CiAgICAgICAgICAgIGxldCBzZWxmPXRoaXM7CiAgICAgICAgICAgIGxldCBhbnM9IHdpbmRvdy5jb25maXJtKCdBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVsZXRlIHlvdXIgYWNjb3VudD8nKTsKICAgICAgICAgICAgaWYoYW5zPT10cnVlKXsKCiAgICAgICAgICAgICAgICBsZXQgY29uZmlybVBhc3N3b3JkID1wcm9tcHQoJ1BsZWFzZSBlbnRlciB5b3VyIHBhc3N3b3JkJywnJyk7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGxldCBzZXNzaW9uX2lkPWxvY2FsU3RvcmFnZS5nZXRJdGVtKCdzZXNzaW9uX2lkJyk7CiAgICAgICAgICAgICAgICBsZXQgdXNlcl9pZD1sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcl9pZCcpOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBsZXQgdXJsPSdodHRwOi8vbG9jYWxob3N0OjgwODAvYXBpL2RlbGV0ZS11c2VyJzsKICAgICAgICAgICAgICAgIGxldCByZXF1ZXN0PW5ldyBYTUxIdHRwUmVxdWVzdCgpOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICByZXF1ZXN0Lm9wZW4oJ0RFTEVURScsdXJsKTsKICAgICAgICAgICAgICAgIHJlcXVlc3Quc2V0UmVxdWVzdEhlYWRlcignc2Vzc2lvbl9pZCcsIHNlc3Npb25faWQpOyAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBsZXQgZGF0YT1KU09OLnN0cmluZ2lmeSh7dXNlcl9pZDp1c2VyX2lkLHVzZXJfcGFzc3dvcmQ6Y29uZmlybVBhc3N3b3JkfSk7CiAgICAgICAgICAgICAgICByZXF1ZXN0LnNlbmQoZGF0YSk7ICAgICAgICAgICAgICAgICAgCgogICAgICAgICAgICAgICAgcmVxdWVzdC5vbmxvYWQgPSBmdW5jdGlvbiAoKXsgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHRoaXMuc3RhdHVzPT0yMDApeyAvL3JlcXVlc3QgaXMgdmFsaWQKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KHRoaXMucmVzcG9uc2VUZXh0KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYubG9nb3V0KCk7CiAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2V7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGVydCh0aGlzLnJlc3BvbnNlVGV4dCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgfTsKCgogICAgICAgICAgICB9CiAgICAgICAgfSwKCiAgICAgICAgb3BlblBhc3N3b3JkTW9kYWw6ZnVuY3Rpb24oKXsKICAgICAgICAgICAgCiAgICAgICAgICAgIGxldCBtb2RhbD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGFzc3dvcmRNb2RhbCcpOwogICAgICAgICAgICAvLyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnRm9vdGVyJykuc3R5bGUuZGlzcGxheT0nbm9uZSc7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdIZWFkZXInKS5zdHlsZS5kaXNwbGF5PSdub25lJzsKICAgICAgICAgICAgbGV0IG1haW4gPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnbWFpbicpOwogICAgICAgICAgICAgICAgbWFpblswXS5zdHlsZS5kaXNwbGF5PSdub25lJzsKCiAgICAgICAgICAgIG1vZGFsLnN0eWxlLmRpc3BsYXk9J2ZsZXgnOwogICAgICAgIAogICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgIG1vZGFsLnN0eWxlLm9wYWNpdHk9JzEnOwogICAgICAgICAgICAgICAgbW9kYWwuc3R5bGUudHJhbnNmb3JtPSd0cmFuc2xhdGVZKDBweCknOwoKICAgICAgICAgICAgfSwgMTAwKTsKICAgICAgICAgICAgCiAgICAgICAgfSwKICAgICAgICBjbG9zZVBhc3N3b3JkTW9kYWw6ZnVuY3Rpb24oKXsKCgogICAgICAgICAgICBsZXQgbW9kYWw9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Bhc3N3b3JkTW9kYWwnKTsKICAgICAgICAgICAgbW9kYWwuc3R5bGUub3BhY2l0eT0nMCc7CiAgICAgICAgICAgIG1vZGFsLnN0eWxlLnRyYW5zZm9ybT0ndHJhbnNsYXRlWSgyMHB4KSc7CiAgICAgICAgICAgIAogICAgICAgICAgICAKICAgICAgICAKICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICBtb2RhbC5zdHlsZS5kaXNwbGF5PSdub25lJzsgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnSGVhZGVyJykuc3R5bGUuZGlzcGxheT0nZmxleCc7CiAgICAgICAgICAgICAgICBsZXQgbWFpbiA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdtYWluJyk7CiAgICAgICAgICAgICAgICBtYWluWzBdLnN0eWxlLmRpc3BsYXk9J2ZsZXgnOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgIH0sIDEwMCk7CiAgICAgICAgICAgIAogICAgICAgIH0sCiAgICAgICAgdXBkYXRlSW5mbzpmdW5jdGlvbigpewogICAgICAgICAgICBsZXQgdXNlcl9uYW1lPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1c2Vyc191c2VybmFtZScpLnZhbHVlOwogICAgICAgICAgICBsZXQgdXNlcl9lbWFpbD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndXNlcnNfZW1haWwnKS52YWx1ZTsKCiAgICAgICAgICAgIHRyeXsKICAgICAgICAgICAgICAgIC8vZW1wdHkgaW5wdXQKICAgICAgICAgICAgICAgIGlmKHVzZXJfbmFtZS50cmltKCk9PScnKXsKICAgICAgICAgICAgICAgICAgICB0aGlzLnNldEZvY3VzKDQpOwogICAgICAgICAgICAgICAgICAgIHRocm93ICdQbGVhc2UgZW50ZXIgeW91ciB1c2VybmFtZSc7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmKHVzZXJfZW1haWwudHJpbSgpPT0nJyl7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRGb2N1cyg1KTsKICAgICAgICAgICAgICAgICAgICB0aHJvdyAnUGxlYXNlIGVudGVyIGEgdmFsaWQgZW1haWwgYWRkcmVzcyc7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlewogICAgICAgICAgICAgICAgICAgIC8vdmFsaWRhdGUgZW1haWwgZm9ybWF0CiAgICAgICAgICAgICAgICAgICAgbGV0IGVtYWlsVmFsaWRhdG9yPXJlcXVpcmUoJ2VtYWlsLXZhbGlkYXRvcicpOwogICAgICAgICAgICAgICAgICAgIGxldCBpc1ZhbGlkPWVtYWlsVmFsaWRhdG9yLnZhbGlkYXRlKHVzZXJfZW1haWwpOwogICAgICAgICAgICAgICAgICAgIGlmKGlzVmFsaWQ9PWZhbHNlKXsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRGb2N1cyg1KTsKICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgJ1BsZWFzZSBlbnRlciBhIHZhbGlkIGVtYWlsIGFkZHJlc3MnOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGxldCB1cmw9J2h0dHA6Ly9sb2NhbGhvc3Q6ODA4MC9hcGkvdXBkYXRlLWluZm8nOwogICAgICAgICAgICAgICAgbGV0IHVzZXJfaWQ9bG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJfaWQnKTsgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBsZXQgc2Vzc2lvbl9pZD1sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnc2Vzc2lvbl9pZCcpOwogICAgICAgICAgICAgICAgbGV0IHVzZXJEYXRhPXt1c2VyX25hbWU6dXNlcl9uYW1lLHVzZXJfZW1haWw6dXNlcl9lbWFpbH07ICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdGhpcy5zZW5kVXBkYXRlUmVxdWVzdCh1cmwsdXNlcl9pZCx1c2VyRGF0YSxzZXNzaW9uX2lkLDEpOyAgICAKCgogICAgICAgICAgICB9Y2F0Y2goZSl7CiAgICAgICAgICAgICAgICBhbGVydChlKTsKICAgICAgICAgICAgfQogICAgICAgICAgICAKCgoKICAgICAgICB9LAogICAgICAgIHVwZGF0ZVBhc3N3b3JkOmZ1bmN0aW9uKCl7CiAgICAgICAgICAgIGxldCBvbGRQYXNzd29yZD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnb2xkUGFzc3dvcmQnKS52YWx1ZTsgICAgICAgICAgICAgICAgCiAgICAgICAgICAgIGxldCBwYXNzd29yZDE9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25ld1Bhc3N3b3JkMScpLnZhbHVlOwogICAgICAgICAgICAgICAgcGFzc3dvcmQxPXBhc3N3b3JkMS50cmltKCk7CiAgICAgICAgICAgIGxldCBwYXNzd29yZDI9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25ld1Bhc3N3b3JkMicpLnZhbHVlOwogICAgICAgICAgICAgICAgcGFzc3dvcmQyPXBhc3N3b3JkMi50cmltKCk7CgogICAgICAgICAgICB0cnl7CgogICAgICAgICAgICAgICAgaWYob2xkUGFzc3dvcmQudHJpbSgpPT0nJyl7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRGb2N1cygxKTsgICAgCiAgICAgICAgICAgICAgICAgICAgdGhyb3cgJ1BsZWFzZSBlbnRlciBhIHZhbGlkIHBhc3N3b3JkJzsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZihvbGRQYXNzd29yZC5sZW5ndGg8OCl7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRGb2N1cygxKTsKICAgICAgICAgICAgICAgICAgICB0aHJvdyAnUGFzc3dvcmQgbXVzdCBiZSBiZXR3ZWVuIDggYW5kIDIwIGNoYXJhY3RlcnMgbG9uZyc7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYob2xkUGFzc3dvcmQuaW5kZXhPZignICcpPj0wKXsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRGb2N1cygxKTsKICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgJ1Bhc3N3b3JkIGNhbm5vdCBjb250YWluIGVtcHR5IHNwYWNlcyc7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYocGFzc3dvcmQxLnRyaW0oKT09JycpewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldEZvY3VzKDIpOyAgICAKICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgJ1BsZWFzZSBlbnRlciBhIHZhbGlkIHBhc3N3b3JkJzsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmKHBhc3N3b3JkMS5sZW5ndGg8OCl7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0Rm9jdXMoMik7CiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93ICdQYXNzd29yZCBtdXN0IGJlIGJldHdlZW4gOCBhbmQgMjAgY2hhcmFjdGVycyBsb25nJzsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgaWYocGFzc3dvcmQxLmluZGV4T2YoJyAnKT49MCl7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0Rm9jdXMoMik7CiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93ICdQYXNzd29yZCBjYW5ub3QgY29udGFpbiBlbXB0eSBzcGFjZXMnOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYocGFzc3dvcmQxIT1wYXNzd29yZDIpewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldEZvY3VzKDMpOwogICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyAnUGFzc3dvcmRzIGRvIG5vdCBtYXRjaC4gUGxlYXNlIHJlLWVudGVyIHlvdXIgbmV3IHBhc3N3b3JkJzsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgLy9zZW5kIHBvc3QgcmVxdWVzdCB0byBhdXRoZW50aWNhdGUgcGFzc3dvcmQKICAgICAgICAgICAgICAgICBsZXQgc2VsZj10aGlzOwogICAgICAgICAgICAgICAgIGxldCB1c2VyX2lkPWxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VyX2lkJyk7CiAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICBsZXQgcmVxdWVzdD1uZXcgWE1MSHR0cFJlcXVlc3QoKTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgIHJlcXVlc3Qub3BlbignUE9TVCcsJ2h0dHA6Ly9sb2NhbGhvc3Q6ODA4MC9hcGkvdmFsaWRhdGVfcGFzc3dvcmQnKTsKICAgICAgICAgICAgICAgICBsZXQgZGF0YT1KU09OLnN0cmluZ2lmeSh7b2xkUGFzc3dvcmQ6b2xkUGFzc3dvcmQsdXNlcl9pZDp1c2VyX2lkfSk7CiAgICAgICAgICAgICAgICAgcmVxdWVzdC5zZW5kKGRhdGEpOyAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIAoKICAgICAgICAgICAgICAgICByZXF1ZXN0Lm9ubG9hZCA9IGZ1bmN0aW9uICgpeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgIGxldCByZXNwb25zZT10aGlzLnJlc3BvbnNlVGV4dDsgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgaWYodGhpcy5zdGF0dXM9PTIwMCl7IC8vcmVxdWVzdCBpcyB2YWxpZAogICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7ICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAvL3NlbmQgcHV0IHJlcXVlc3QgZm9yIHVwZGF0aW5nIHBhc3N3b3JkCiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzZXNzaW9uX2lkPWxvY2FsU3RvcmFnZS5nZXRJdGVtKCdzZXNzaW9uX2lkJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICBsZXQgcmVxdWVzdFVybD0naHR0cDovL2xvY2FsaG9zdDo4MDgwL2FwaS91cGRhdGVfcGFzc3dvcmQnOwogICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnNlbmRVcGRhdGVSZXF1ZXN0KHJlcXVlc3RVcmwsdXNlcl9pZCxwYXNzd29yZDEsc2Vzc2lvbl9pZCwyKTsgICAgCgogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBlbHNlewogICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KCdUaGUgcGFzc3dvcmQgcHJvdmlkZWQgZG9lcyBub3QgbWF0Y2ggdGhlIG9uZSBzdG9yZWQgaW4gdGhlIGRhdGFiYXNlISBQbGVhc2UgcmUtZW50ZXIgeW91ciBvbGQgcGFzc3dvcmQuJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuc2V0Rm9jdXMoMSk7CiAgICAgICAgICAgICAgICAgICAgfSAgIAogICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgfQogICAgICAgICAgICBjYXRjaChlcnJvcil7CiAgICAgICAgICAgICAgICBhbGVydChlcnJvcik7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgfSwKICAgICAgICAKCiAgICAgICAgLy9mdW5jdGlvbiB0byBzZXQgZm9jdXMgdG8gaW5wdXQgZmllbGRzIHRoYXQgd2VyZW4ndCBjb21wbGV0ZWQgcHJvcGVybHkKICAgICAgICBzZXRGb2N1czpmdW5jdGlvbihuKXsKICAgICAgICAgICAgCiAgICAgICAgICAgIGxldCB1c2VyRW50cmllcz1kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaW5wdXQnKTsKICAgICAgICAgICAgdXNlckVudHJpZXMuZm9yRWFjaCh1PT57CiAgICAgICAgICAgICAgICB1LmNsYXNzTGlzdC5yZW1vdmUoJ2ZvY3VzJyk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICB1c2VyRW50cmllc1tuLTFdLmNsYXNzTGlzdC5hZGQoJ2ZvY3VzJyk7CiAgICAgICAgfSwKICAgICAgICBzZW5kVXBkYXRlUmVxdWVzdDpmdW5jdGlvbih1cmwsdXNlcl9pZCx1c2VyRGF0YSxzZXNzaW9uX2lkLG4pewogICAgICAgICAgICAvL249MS0tPnVwZGF0ZSB1c2VybmFtZSAmIGVtYWlsLCBuPTItLT51cGRhdGUgcGFzc3dvcmQKICAgICAgICAgICAgbGV0IHNlbGY9dGhpczsKICAgICAgICAgICAgbGV0IGRhdGE7CiAgICAgICAgICAgIGxldCByZXF1ZXN0PW5ldyBYTUxIdHRwUmVxdWVzdCgpOyAgICAgICAgICAgICAgICAKICAgICAgICAgICAgcmVxdWVzdC5vcGVuKCdQVVQnLHVybCk7CiAgICAgICAgICAgIHJlcXVlc3Quc2V0UmVxdWVzdEhlYWRlcignc2Vzc2lvbl9pZCcsIHNlc3Npb25faWQpOwogICAgICAgICAgICAKICAgICAgICAgICAgaWYobj09MSl7CiAgICAgICAgICAgICAgICBkYXRhPUpTT04uc3RyaW5naWZ5KHt1c2VyX2lkOnVzZXJfaWQsIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VyX25hbWU6dXNlckRhdGEudXNlcl9uYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VyX2VtYWlsOnVzZXJEYXRhLnVzZXJfZW1haWx9KTsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlewogICAgICAgICAgICAgICAgZGF0YT1KU09OLnN0cmluZ2lmeSh7dXNlcl9pZDp1c2VyX2lkLHVzZXJfcGFzc3dvcmQ6dXNlckRhdGF9KTsgIAogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICByZXF1ZXN0LnNlbmQoZGF0YSk7ICAgICAgCiAgICAgICAgICAgIGlmKG49PTEpewogICAgICAgICAgICAgICAgcmVxdWVzdC5vbmxvYWQgPSBmdW5jdGlvbiAoKXsgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIGlmKHRoaXMuc3RhdHVzPT0yMDApeyAvL3JlcXVlc3QgaXMgdmFsaWQgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICBhbGVydCh0aGlzLnJlc3BvbnNlVGV4dCk7ICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmNhbmNlbCgpOwoKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgZWxzZXsKICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQodGhpcy5yZXNwb25zZVRleHQpOyAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgfSAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB9OyAKICAgICAgICAgICAgfSAgIAogICAgICAgICAgICBlbHNlewogICAgICAgICAgICAgICAgcmVxdWVzdC5vbmxvYWQgPSBmdW5jdGlvbiAoKXsgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIGlmKHRoaXMuc3RhdHVzPT0yMDApeyAvL3JlcXVlc3QgaXMgdmFsaWQgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICBhbGVydCh0aGlzLnJlc3BvbnNlVGV4dCk7ICAgCiAgICAgICAgICAgICAgICAgICAgICAgIC8vZW1wdHkgdGV4dCBib3hlcwogICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnb2xkUGFzc3dvcmQnKS52YWx1ZT0nJyA7CiAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZXdQYXNzd29yZDEnKS52YWx1ZT0nJyA7CiAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZXdQYXNzd29yZDInKS52YWx1ZT0nJyA7CgogICAgICAgICAgICAgICAgICAgICAgICAvL3JlZGlyZWN0IHRvIGFjY291bnQgaW5mb3JtYXRpb24gcGFnZQogICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmNsb3NlUGFzc3dvcmRNb2RhbCgpOwogICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmNhbmNlbCgpOwoKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgZWxzZXsKICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQodGhpcy5yZXNwb25zZVRleHQpOyAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgfSAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB9OyAgICAKCiAgICAgICAgICAgIH0gICAgICAgICAKICAgICAgICAgICAgCiAgICAgICAgfSwKCiAgICAgICAgbmF2aWdhdGU6ZnVuY3Rpb24obixzZWN0aW9uVGl0bGUpewogICAgICAgICAgICAKICAgICAgICAgICAgdGhpcy4kZW1pdCgnbmF2aWdhdGUnLG4sc2VjdGlvblRpdGxlKTsKICAgICAgICB9LAoKICAgICAgICBnb0JhY2s6ZnVuY3Rpb24oKXsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vdGhpcyB3aWxsIGZsYWcgdGhhdCB0aGUgbmF2aWdhdGlvbiBvcmlnaW5hdGVzIGZyb20gdGhlIFVzZXJzIHNjcmVlbgogICAgICAgICAgICAvL3NvIHRoYXQgaW5zaWRlIHRoZSBuYXZpZ2F0ZSBmdW5jdGlvbiwgdGhlIGNvZGUgd2lsbCBub3Qgc2VhcmNoCiAgICAgICAgICAgIC8vZm9yIHRoZSBmb290ZXIgYnV0dG9ucwoKICAgICAgICAgICAgLy8gbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ1VzZXJzJywndHJ1ZScpOwogICAgICAgICAgICAKICAgICAgICAgICAgbGV0IHByZXZpb3VzU2VjdGlvbj1sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgncHJldmlvdXNTZWN0aW9uJyk7CiAgICAgICAgICAgIGxldCBwcmV2aW91c1NlY3Rpb25UaXRsZT1sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgncHJldmlvdXNTZWN0aW9uVGl0bGUnKTsgICAgICAgICAgICAKICAgICAgICAgICAgdGhpcy4kZW1pdCgnaW5pdGlhbHMnKTsKICAgICAgICAgICAgdGhpcy5uYXZpZ2F0ZShwcmV2aW91c1NlY3Rpb24scHJldmlvdXNTZWN0aW9uVGl0bGUpOwogICAgICAgIH0sCgogICAgICAgIGxvZ291dDpmdW5jdGlvbigpewogICAgICAgICAgICAKICAgICAgICAgICAgLy9zZW5kIHJlcXVlc3QgdG8gZGVsZXRlIHRoZSBzZXNzaW9uIGZyb20gdGhlIGRhdGFiYXNlCiAgICAgICAgICAgICAgICBsZXQgc2VsZiA9IHRoaXM7CiAgICAgICAgICAgICAgICAvL2dldCBzZXNzaW9uX2lkIGZyb20gbG9jYWxTdG9yYWdlICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgbGV0IHNlc3Npb25faWQ9bG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Nlc3Npb25faWQnKTsgIAogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBsZXQgcmVxdWVzdD1uZXcgWE1MSHR0cFJlcXVlc3QoKTsgICAgICAgICAgICAKICAgICAgICAgICAgICAgIHJlcXVlc3Qub3BlbignR0VUJywnaHR0cDovL2xvY2FsaG9zdDo4MDgwL2FwaS9sb2dvdXQnKTsgICAgICAgIAogICAgICAgICAgICAgICAgLy9zZXQgc2Vzc2lvbl9pZCBoZWFkZXIgICAgICAgIAogICAgICAgICAgICAgICAgaWYoc2Vzc2lvbl9pZCl7CiAgICAgICAgICAgICAgICByZXF1ZXN0LnNldFJlcXVlc3RIZWFkZXIoJ3Nlc3Npb25faWQnLCBzZXNzaW9uX2lkKTsgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIC8vc2VuZCByZXF1ZXN0CiAgICAgICAgICAgICAgICByZXF1ZXN0LnNlbmQoKTsgIAogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICByZXF1ZXN0Lm9ubG9hZD1mdW5jdGlvbigpewogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIGlmKHRoaXMuc3RhdHVzPT0yMDApewogICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgLy9sb2dvdXQKICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLmNsZWFyKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNlbGYuY2xvc2VNZW51KCk7CiAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi4kZW1pdCgnbmF2aWdhdGUnLDAsJycpOyAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgIH0sIDIwMCk7CiAgICAgICAgICAgICAgICAgICAgfSAKICAgICAgICAgICAgICAgICAgICBlbHNlewogICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnJlc3BvbnNlVGV4dCk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIH0gIAogICAgICAgICAgICAgICAgfSAKICAgICAgICB9CgogICAgfSwKfQo="},{"version":3,"sources":["Users.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiFA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;;AAGA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;;;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"Users.vue","sourceRoot":"src/components","sourcesContent":["<template>\n\n    <div>\n\n        <div  id=\"passwordModal\">\n            <div class=\"container\" id=\"newPasswordContainer\">\n                <div class=\"row\">\n                    <p>Password change</p>\n                </div>\n\n                <div class=\"row\">\n                    <label class=\"col\" for=\"oldPassword\">Old password\n                    <input type=\"text\" id=\"oldPassword\" maxlength=\"20\">\n                    </label>\n                </div>\n\n                <div class=\"row\">\n                    <label class=\"col\" for=\"newPassword1\">New password\n                    <input type=\"text\" id=\"newPassword1\"  maxlength=\"20\">\n                    </label>\n                </div>\n                \n                <div class=\"row\">\n                    <label class=\"col\" for=\"newPassword2\">Repeat new password\n                    <input type=\"text\" id=\"newPassword2\" maxlength=\"20\" disabled>\n                    </label>\n                </div>\n\n\n            </div>\n\n            <div class=\"row\">\n                <button class=\"col-10 button_primary\" id=\"button_updatePassword\" v-on:click='updatePassword'>Modify password</button>\n            </div>\n            \n            <div class=\"row\">\n                <button v-on:click='closePasswordModal'>cancel</button>\n            </div>\n            \n        </div>\n\n\n        <main id=\"Users\" class=\"container\">\n            <div class=\"container top2\">\n                \n              <div class=\"row\" id=\"fieldsContainer\">\n                  <label class=\"col-12 users_label\" for=\"users_username\">Username\n                      <input class=\"input\" type=\"text\" id=\"users_username\" disabled>\n                  </label>\n    \n                  <label class=\"col-12 users_label\" for=\"users_email\">Email\n                      <input class=\"input\" type=\"text\" id=\"users_email\" disabled>\n                   </label>\n    \n                   <button class=\"col-11\" id=\"buttonPasswordModal\" v-on:click='openPasswordModal'>Modify password</button>                                  \n              </div>\n    \n              <div class=\"row\" id=\"editContainer\">\n                  <button class=\"col-10 top2 button_primary\" id=\"users_edit\" v-on:click='enableEdit'>Edit</button>\n              </div>\n    \n              <div class=\"row\" id=\"updateContainer\">\n                  <button class=\"col-10 button_primary\" id=\"users_update\" v-on:click='updateInfo'>Update</button>\n                  <button class=\"col-10\" id=\"users_cancel\" v-on:click='cancel'>Cancel</button>\n              </div>\n    \n              <div class=\"row\" id=\"deleteContainer\">\n                  <button class=\"col-10 button_primary \" id=\"users_delete\" v-on:click='deleteAccount' >Delete account</button>\n              </div>\n    \n              <div class=\"row\" id=\"backContainer\">\n                  <button class=\"col-6\" id=\"users_back\" v-on:click='goBack'>Back</button>\n              </div>  \n                \n            </div>\n        </main>   \n    </div> \n</template>\n\n\n<script>\nexport default {\n    name:'Users',\n\n    data:function(){\n        return{\n           //\n        }\n    },\n\n    mounted:function(){\n\n        let inputs=document.getElementsByTagName('input');\n        inputs.forEach(i=>{\n            i.addEventListener('keyup',function(){\n                i.classList.remove('focus');\n                if(i===inputs[1]){\n                     let password1=document.getElementById('newPassword1').value;            \n                     let password2=document.getElementById('newPassword2');\n\n                    if(password1.length>=8){\n                        password2.disabled=false;\n                        \n                    }\n                    else{\n                        password2.disabled=true;\n                        password2.value='';\n                        password2.classList.remove('focus');\n                        \n                    }\n                }\n            })\n        })\n\n        //GET request to retrieve user account info\n        let request= new XMLHttpRequest();    \n        \n        let session_id=localStorage.getItem('session_id');\n        let user_id=localStorage.getItem('user_id');\n\n        request.open('GET','http://localhost:8080/api/account');        \n\n        //set session_id header        \n        if(session_id){\n            request.setRequestHeader('session_id', session_id);\n            request.setRequestHeader('user_id', user_id);               \n        }\n\n        //send request\n        request.send();  \n\n        request.onload=function(){\n            if(this.status==200){\n                let response=JSON.parse(this.responseText);\n                    let user_name=response.user_name;\n                    let user_email=response.user_email;\n                    // let user_password=response.user_password;\n                    //     user_password=user_password.substr(0,3);\n                        \n                document.getElementById('users_username').value=user_name\n                document.getElementById('users_email').value=user_email;\n                // document.getElementById('password').innerHTML=user_password;\n            } \n            else{\n                 //   \n            }  \n        }  \n\n\n        \n    },\n\n\n    methods:{\n\n        enableEdit:function(){\n            let inputs =document.getElementsByClassName('input');\n            inputs.forEach(i => {\n                i.disabled=false;                \n            });\n\n            document.getElementById('users_update').style.display='block';\n            document.getElementById('users_cancel').style.display='block';\n            document.getElementById('buttonPasswordModal').style.display='block';\n            document.getElementById('users_edit').style.display='none';\n            document.getElementById('users_delete').style.display='none';\n            document.getElementById('users_back').style.display='none';\n\n        },\n        cancel:function(){\n            let inputs =document.getElementsByClassName('input');\n            inputs.forEach(i => {\n                i.disabled=true;                \n            });\n\n            document.getElementById('users_update').style.display='none';\n            document.getElementById('users_cancel').style.display='none';\n            document.getElementById('buttonPasswordModal').style.display='none';\n            document.getElementById('users_edit').style.display='block';\n            document.getElementById('users_delete').style.display='block';\n            document.getElementById('users_back').style.display='block';\n            \n        },\n        deleteAccount:function(){\n            let self=this;\n            let ans= window.confirm('Are you sure you want to delete your account?');\n            if(ans==true){\n\n                let confirmPassword =prompt('Please enter your password','');\n                \n                let session_id=localStorage.getItem('session_id');\n                let user_id=localStorage.getItem('user_id');\n                \n                let url='http://localhost:8080/api/delete-user';\n                let request=new XMLHttpRequest();\n                \n                request.open('DELETE',url);\n                request.setRequestHeader('session_id', session_id);               \n                            \n                let data=JSON.stringify({user_id:user_id,user_password:confirmPassword});\n                request.send(data);                  \n\n                request.onload = function (){        \n                                                                            \n                        if(this.status==200){ //request is valid\n                            alert(this.responseText);\n                            self.logout();\n                        \n                        }\n                        else{\n                            alert(this.responseText);\n                        }                    \n                };\n\n\n            }\n        },\n\n        openPasswordModal:function(){\n            \n            let modal=document.getElementById('passwordModal');\n            // document.getElementById('Footer').style.display='none';\n            document.getElementById('Header').style.display='none';\n            let main = document.getElementsByTagName('main');\n                main[0].style.display='none';\n\n            modal.style.display='flex';\n        \n            setTimeout(() => {\n                modal.style.opacity='1';\n                modal.style.transform='translateY(0px)';\n\n            }, 100);\n            \n        },\n        closePasswordModal:function(){\n\n\n            let modal=document.getElementById('passwordModal');\n            modal.style.opacity='0';\n            modal.style.transform='translateY(20px)';\n            \n            \n        \n            setTimeout(() => {\n                modal.style.display='none';                \n                document.getElementById('Header').style.display='flex';\n                let main = document.getElementsByTagName('main');\n                main[0].style.display='flex';\n                \n            }, 100);\n            \n        },\n        updateInfo:function(){\n            let user_name=document.getElementById('users_username').value;\n            let user_email=document.getElementById('users_email').value;\n\n            try{\n                //empty input\n                if(user_name.trim()==''){\n                    this.setFocus(4);\n                    throw 'Please enter your username';\n                \n                }\n                if(user_email.trim()==''){\n                    this.setFocus(5);\n                    throw 'Please enter a valid email address';\n                }\n                else{\n                    //validate email format\n                    let emailValidator=require('email-validator');\n                    let isValid=emailValidator.validate(user_email);\n                    if(isValid==false){\n                        this.setFocus(5);\n                        throw 'Please enter a valid email address';\n                    }\n                }\n                let url='http://localhost:8080/api/update-info';\n                let user_id=localStorage.getItem('user_id');                \n                let session_id=localStorage.getItem('session_id');\n                let userData={user_name:user_name,user_email:user_email};                \n                this.sendUpdateRequest(url,user_id,userData,session_id,1);    \n\n\n            }catch(e){\n                alert(e);\n            }\n            \n\n\n\n        },\n        updatePassword:function(){\n            let oldPassword=document.getElementById('oldPassword').value;                \n            let password1=document.getElementById('newPassword1').value;\n                password1=password1.trim();\n            let password2=document.getElementById('newPassword2').value;\n                password2=password2.trim();\n\n            try{\n\n                if(oldPassword.trim()==''){\n                    this.setFocus(1);    \n                    throw 'Please enter a valid password';\n                }\n\n                if(oldPassword.length<8){\n                    this.setFocus(1);\n                    throw 'Password must be between 8 and 20 characters long';\n                }\n\n                if(oldPassword.indexOf(' ')>=0){\n                        this.setFocus(1);\n                        throw 'Password cannot contain empty spaces';\n                }\n\n                if(password1.trim()==''){\n                        this.setFocus(2);    \n                        throw 'Please enter a valid password';\n                }\n                if(password1.length<8){\n                        this.setFocus(2);\n                        throw 'Password must be between 8 and 20 characters long';\n                }\n                \n                if(password1.indexOf(' ')>=0){\n                        this.setFocus(2);\n                        throw 'Password cannot contain empty spaces';\n                }\n                if(password1!=password2){\n                        this.setFocus(3);\n                        throw 'Passwords do not match. Please re-enter your new password';\n                }\n                \n                //send post request to authenticate password\n                 let self=this;\n                 let user_id=localStorage.getItem('user_id');\n             \n                 let request=new XMLHttpRequest();\n                \n                 request.open('POST','http://localhost:8080/api/validate_password');\n                 let data=JSON.stringify({oldPassword:oldPassword,user_id:user_id});\n                 request.send(data);                  \n                    \n\n                 request.onload = function (){                                          \n                 let response=this.responseText;                \n                    if(this.status==200){ //request is valid\n                        console.log(response);                        \n                        \n                       \n                        //send put request for updating password\n                        let session_id=localStorage.getItem('session_id');\n                        \n                        let requestUrl='http://localhost:8080/api/update_password';\n                        self.sendUpdateRequest(requestUrl,user_id,password1,session_id,2);    \n\n                    }\n                    else{\n                        console.log(response);\n                        alert('The password provided does not match the one stored in the database! Please re-enter your old password.');\n                        self.setFocus(1);\n                    }   \n                 };\n                               \n            }\n            catch(error){\n                alert(error);\n            }\n            \n        },\n        \n\n        //function to set focus to input fields that weren't completed properly\n        setFocus:function(n){\n            \n            let userEntries=document.getElementsByTagName('input');\n            userEntries.forEach(u=>{\n                u.classList.remove('focus');\n            });\n            userEntries[n-1].classList.add('focus');\n        },\n        sendUpdateRequest:function(url,user_id,userData,session_id,n){\n            //n=1-->update username & email, n=2-->update password\n            let self=this;\n            let data;\n            let request=new XMLHttpRequest();                \n            request.open('PUT',url);\n            request.setRequestHeader('session_id', session_id);\n            \n            if(n==1){\n                data=JSON.stringify({user_id:user_id, \n                                    user_name:userData.user_name,\n                                    user_email:userData.user_email});\n            }\n            else{\n                data=JSON.stringify({user_id:user_id,user_password:userData});  \n            }\n            \n            request.send(data);      \n            if(n==1){\n                request.onload = function (){        \n                                               \n                    if(this.status==200){ //request is valid                    \n                        alert(this.responseText);   \n                                             \n                        self.cancel();\n\n                    }\n                    else{\n                        alert(this.responseText);        \n                    }                    \n                }; \n            }   \n            else{\n                request.onload = function (){        \n                                               \n                    if(this.status==200){ //request is valid                    \n                        alert(this.responseText);   \n                        //empty text boxes\n                        document.getElementById('oldPassword').value='' ;\n                        document.getElementById('newPassword1').value='' ;\n                        document.getElementById('newPassword2').value='' ;\n\n                        //redirect to account information page\n                        self.closePasswordModal();\n                        self.cancel();\n\n                    }\n                    else{\n                        alert(this.responseText);        \n                    }                    \n                };    \n\n            }         \n            \n        },\n\n        navigate:function(n,sectionTitle){\n            \n            this.$emit('navigate',n,sectionTitle);\n        },\n\n        goBack:function(){\n            \n            //this will flag that the navigation originates from the Users screen\n            //so that inside the navigate function, the code will not search\n            //for the footer buttons\n\n            // localStorage.setItem('Users','true');\n            \n            let previousSection=localStorage.getItem('previousSection');\n            let previousSectionTitle=localStorage.getItem('previousSectionTitle');            \n            this.$emit('initials');\n            this.navigate(previousSection,previousSectionTitle);\n        },\n\n        logout:function(){\n            \n            //send request to delete the session from the database\n                let self = this;\n                //get session_id from localStorage             \n                let session_id=localStorage.getItem('session_id');  \n                \n                let request=new XMLHttpRequest();            \n                request.open('GET','http://localhost:8080/api/logout');        \n                //set session_id header        \n                if(session_id){\n                request.setRequestHeader('session_id', session_id);               \n                }\n                //send request\n                request.send();  \n                \n                request.onload=function(){\n                    \n                    if(this.status==200){\n                        \n                        //logout\n                        localStorage.clear();\n                        // self.closeMenu();\n                        \n                        setTimeout(() => {\n                        self.$emit('navigate',0,'');     \n                        }, 200);\n                    } \n                    else{\n                        console.log(this.responseText);                                                                            \n                    }  \n                } \n        }\n\n    },\n}\n</script>\n\n\n<style>\n\n   main {\n    border: solid whitesmoke thin;\n    padding: 2%;            \n}\n\n\n.users_label{\n    margin-top: 1%;\n}\n\n#fieldsContainer{\n    background-color: rgb(0, 139, 139,0.1);\n    padding-top: 2%;\n    padding-bottom: 2%;\n    justify-content: center;\n}\n\n#buttonPasswordModal{\n    background-color: rgb(0, 139, 139,0);\n    height: 40px;\n    width: auto;\n    margin-left: 0;\n    display: none;\n}\n   \n#editContainer,#updateContainer,#deleteContainer {\n    justify-content: center;\n    margin-top: 1%;\n    \n}\n\n#editContainer{margin-top: 3%;}\n\n#users_update{\n    display: none;\n    width: 50%;\n}\n\n#users_cancel {\n    color: black;\n    display: none;\n}\n#backContainer{\n    margin-top: 2%;\n    \n    justify-content: center;\n}\n\n#users_delete {\n    background-color: white;\n    color: red;\n    border: solid red thin;\n    box-shadow: none;\n\n}\n\n#passwordModal{\n     position: absolute;\n     z-index: 1;     \n     height: 100%;\n     width: 100%;\n     display: none;\n     opacity: 0;        \n     flex-direction: column;    \n     justify-content: center;    \n     transform: translateY(20px);\n     transition: opacity 0.2s,transform 0.2s;       \n}\n\n#passwordModal .row{\n    \n    justify-content: center;\n    \n}\n\n#newPasswordContainer {\n    background-color: rgb(0, 139, 139,0.1);\n    padding: 2%;\n    \n}\n\n#button_updatePassword{\n    margin-top: 2%;\n    margin-bottom: 1%;\n}\n\n\n</style>\n\n"]}]}