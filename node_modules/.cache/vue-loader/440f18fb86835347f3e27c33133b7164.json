{"remainingRequest":"/Users/stavros/Documents/web/diary/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/stavros/Documents/web/diary/src/components/Notes.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/stavros/Documents/web/diary/src/components/Notes.vue","mtime":1613263684544},{"path":"/Users/stavros/Documents/web/diary/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/stavros/Documents/web/diary/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/stavros/Documents/web/diary/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/stavros/Documents/web/diary/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgoKaW1wb3J0IE5vdGUgZnJvbSAnLi9Ob3RlJzsKCgpleHBvcnQgZGVmYXVsdCB7CiAgICBuYW1lOidOb3RlcycsCgogICAgY29tcG9uZW50czp7CiAgICAgICAgTm90ZQogICAgfSwKCiAgICBkYXRhOmZ1bmN0aW9uKCl7CiAgICAgICAgcmV0dXJuewogICAgICAgICAgIG5vdGVzOltdLAogICAgICAgICAgIG9wZW5Ob3RlOmZhbHNlLAogICAgICAgICAgIHNlbGVjdGVkTm90ZTpbXQogICAgICAgIH0KICAgIH0sCgogICAgcHJvcHM6Wydkb3NzaWVyJ10sCgogICAgbW91bnRlZDpmdW5jdGlvbigpewogICAgLy9yZXRyaWV2ZSBub3RlcyBmb3IgdGhpcyBkb3NzaWVyCiAgICBsZXQgc2VsZj10aGlzOwogICAgbGV0IHJlcXVlc3Q9IG5ldyBYTUxIdHRwUmVxdWVzdCgpOyAgICAgICAgICAgIAogICAgcmVxdWVzdC5vcGVuKCdHRVQnLCdodHRwOi8vbG9jYWxob3N0OjgwODAvYXBpL3VzZXItbm90ZXMnKTsgICAgICAgIAoKICAgIGxldCBzZXNzaW9uX2lkPWxvY2FsU3RvcmFnZS5nZXRJdGVtKCdzZXNzaW9uX2lkJyk7CiAgICBsZXQgdXNlcl9pZD1sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcl9pZCcpOwogICAgbGV0IGRvc3NpZXJfaWQ9dGhpcy5kb3NzaWVyLmRvc3NpZXJfZms7CiAgICAKCiAgICByZXF1ZXN0LnNldFJlcXVlc3RIZWFkZXIoJ3Nlc3Npb25faWQnLCBzZXNzaW9uX2lkKTsgICAgICAgICAgICAgICAKICAgIHJlcXVlc3Quc2V0UmVxdWVzdEhlYWRlcigndXNlcl9pZCcsIHVzZXJfaWQpOyAgICAgICAgICAgICAgIAogICAgcmVxdWVzdC5zZXRSZXF1ZXN0SGVhZGVyKCdkb3NzaWVyX2lkJywgZG9zc2llcl9pZCk7ICAgICAgICAgICAgICAgCgogICAgLy9zZW5kIHJlcXVlc3QKICAgIHJlcXVlc3Quc2VuZCgpOyAgCgogICAgcmVxdWVzdC5vbmxvYWQ9ZnVuY3Rpb24oKXsKICAgICAgICBpZih0aGlzLnN0YXR1cz09MjAwKXsKCiAgICAgICAgICAgIGxldCByZXNwb25zZT1KU09OLnBhcnNlKHRoaXMucmVzcG9uc2VUZXh0KTsKICAgICAgICAgICAgc2VsZi5ub3Rlcz1yZXNwb25zZTsKICAgICAgICAgIAogICAgICAgIH0gCiAgICAgICAgZWxzZXsKICAgICAgICAgICAgYWxlcnQodGhpcy5yZXNwb25zZVRleHQpOwogICAgICAgIH0gIAogICAgfSAgCiAgICAgICAgCgoKCiAgICB9LAogICAgbWV0aG9kczp7CiAgICAgICAgCiAgICAgICAgc2hvd05vdGU6ZnVuY3Rpb24obm90ZV9pZCx0aXRsZSxib2R5LGRhdGUsdGltZSxkb3NzaWVyX2ZrLHVzZXJfZmspewogICAgIAogICAgICAgIGNvbnNvbGUubG9nKG5vdGVfaWQsdGl0bGUsYm9keSxkYXRlLHRpbWUsZG9zc2llcl9mayx1c2VyX2ZrKQogICAgICAgICAKICAgICAgICAKICAgICAgICB0aGlzLnNlbGVjdGVkTm90ZT1be25vdGVfaWQ6bm90ZV9pZCx0aXRsZTp0aXRsZSxib2R5OmJvZHksZGF0ZTpkYXRlLAogICAgICAgICAgICAgICAgICAgIHRpbWU6dGltZSxkb3NzaWVyX2ZrOmRvc3NpZXJfZmssdXNlcl9mazp1c2VyX2ZrfV07CgogICAgICAgICAgICAKICAgICAgICB0aGlzLm9wZW5Ob3RlPXRydWU7CiAgICAgICAgICAgIAogICAgICAgIH0sCgogICAgICAgIGJhY2tfbm90ZXM6ZnVuY3Rpb24oKXsKICAgICAgICAgICAgdGhpcy5vcGVuTm90ZT1mYWxzZTsKICAgICAgICB9CiAgICAgICAgCgogICAgICAgLy8KCiAgICB9LAp9Cg=="},{"version":3,"sources":["Notes.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoCA;;;AAGA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;;;AAKA;AACA;;AAEA;;AAEA;;;AAGA;AACA;;;AAGA;;AAEA;;AAEA;AACA;AACA;;;AAGA;;AAEA;AACA","file":"Notes.vue","sourceRoot":"src/components","sourcesContent":["<template>\n\n    <div id=\"Notes\" class=\"container\">\n        <transition name=\"fade\">\n            <div v-if=\"!openNote\" class=\"container\">\n    \n                <div class=\"row\"><b>{{this.dossier.dossier_name}}</b></div>\n    \n                <div class=\"row\" v-for=\"note in notes\" :key=\"note.note_id\">\n                    <div class=\"col record\">\n                        <i class=\"fas fa-feather-alt results_label\"> {{note.title}} </i>   \n                    </div>\n    \n                    <button class=\"col record\" v-on:click='showNote(note.note_id,note.title,note.body,\n                                                                    note.date,note.time,note.dossier_fk,note.user_fk)'>\n                        open\n                    </button>\n    \n                </div>\n    \n                <div class=\"row\"><button v-on:click='$emit(\"back_dossiers\")'><i class=\"fas fa-caret-left back\"></i></button></div>\n    \n            </div>\n        </transition>\n        <transition name=\"fade\">\n            <Note v-if=\"openNote\" v-on:back_dossiers='back_notes' v-bind:noteData='selectedNote'\n            v-on:back_notes='back_notes'\n            />\n        </transition>\n    </div>    \n</template>\n\n\n<script>\n\n\nimport Note from './Note';\n\n\nexport default {\n    name:'Notes',\n\n    components:{\n        Note\n    },\n\n    data:function(){\n        return{\n           notes:[],\n           openNote:false,\n           selectedNote:[]\n        }\n    },\n\n    props:['dossier'],\n\n    mounted:function(){\n    //retrieve notes for this dossier\n    let self=this;\n    let request= new XMLHttpRequest();            \n    request.open('GET','http://localhost:8080/api/user-notes');        \n\n    let session_id=localStorage.getItem('session_id');\n    let user_id=localStorage.getItem('user_id');\n    let dossier_id=this.dossier.dossier_fk;\n    \n\n    request.setRequestHeader('session_id', session_id);               \n    request.setRequestHeader('user_id', user_id);               \n    request.setRequestHeader('dossier_id', dossier_id);               \n\n    //send request\n    request.send();  \n\n    request.onload=function(){\n        if(this.status==200){\n\n            let response=JSON.parse(this.responseText);\n            self.notes=response;\n          \n        } \n        else{\n            alert(this.responseText);\n        }  \n    }  \n        \n\n\n\n    },\n    methods:{\n        \n        showNote:function(note_id,title,body,date,time,dossier_fk,user_fk){\n     \n        console.log(note_id,title,body,date,time,dossier_fk,user_fk)\n         \n        \n        this.selectedNote=[{note_id:note_id,title:title,body:body,date:date,\n                    time:time,dossier_fk:dossier_fk,user_fk:user_fk}];\n\n            \n        this.openNote=true;\n            \n        },\n\n        back_notes:function(){\n            this.openNote=false;\n        }\n        \n\n       //\n\n    },\n}\n</script>\n\n\n<style>\n    .record {margin-top: 1%;}\n   .record i {\n    font-size: 1em;\n}\n\n</style>\n\n"]}]}