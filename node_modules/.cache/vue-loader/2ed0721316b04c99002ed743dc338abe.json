{"remainingRequest":"/Users/stavros/Documents/web/diary/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/stavros/Documents/web/diary/src/components/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/stavros/Documents/web/diary/src/components/Login.vue","mtime":1610393893270},{"path":"/Users/stavros/Documents/web/diary/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/stavros/Documents/web/diary/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/stavros/Documents/web/diary/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/stavros/Documents/web/diary/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6J0xvZ2luJywKCiAgICBkYXRhOmZ1bmN0aW9uKCl7CiAgICAgICAgcmV0dXJuewogICAgICAgICAgICBlbWFpbDonJywKICAgICAgICAgICAgcGFzc3dvcmQ6JycKICAgICAgICB9CiAgICB9LAoKICAgIG1ldGhvZHM6ewogICAgICAgIGxvZ2luOmZ1bmN0aW9uKCl7CiAgICAgICAgICAgIGxldCBlbWFpbD10aGlzLmVtYWlsOwogICAgICAgICAgICBsZXQgcGFzc3dvcmQ9dGhpcy5wYXNzd29yZDsKCiAgICAgICAgICAgIC8vdmFsaWRhdGUgdXNlciBpbnB1dAogICAgICAgICAgICB0cnl7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIC8vZW1wdHkgaW5wdXQKICAgICAgICAgICAgICAgIGlmKGVtYWlsLnRyaW0oKT09JycpewogICAgICAgICAgICAgICAgdGhyb3cgJ3BsZWFzZSBlbnRlciB5b3VyIGVtYWlsJzsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmKHBhc3N3b3JkLnRyaW0oKT09JycpewogICAgICAgICAgICAgICAgdGhyb3cgJ3BsZWFzZSBlbnRlciB5b3VyIHBhc3N3b3JkJzsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAvL3NlbmQgcG9zdCByZXF1ZXN0IHdpdGggY3JlZGVudGlhbHMKICAgICAgICAgICAgICAgIGxldCByZXF1ZXN0PW5ldyBYTUxIdHRwUmVxdWVzdCgpOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICByZXF1ZXN0Lm9wZW4oJ1BPU1QnLCdodHRwOi8vbG9jYWxob3N0OjgwMDAvbG9naW4nKTsKCiAgICAgICAgICAgICAgICBsZXQgZGF0YT1KU09OLnN0cmluZ2lmeSh7ZW1haWw6dGhpcy5lbWFpbCxwYXNzd29yZDp0aGlzLnBhc3N3b3JkfSk7CgogICAgICAgICAgICAgICAgcmVxdWVzdC5zZW5kKGRhdGEpOyAgCiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGxldCBzZWxmPXRoaXM7CiAgICAgICAgICAgICAgICByZXF1ZXN0Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uICgpeyAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgaWYodGhpcy5yZWFkeVN0YXRlPT00ICYmIHRoaXMuc3RhdHVzPT0yMDApeyAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIGFsZXJ0KHRoaXMucmVzcG9uc2VUZXh0KTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHRoaXMucmVzcG9uc2VUZXh0PT0nTG9naW4gc3VjY2Vzc2Z1bGwnKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vZ28gdG8gaG9tZSBzY3JlZW4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuJGVtaXQoJ2xvZ2luJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9OwoKCiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgfQogICAgICAgICAgICBjYXRjaCAoZXJyb3IpewogICAgICAgICAgICAgICAgYWxlcnQoZXJyb3IpOwogICAgICAgICAgICB9CgogICAgICAgIH0sCgogICAgICAgIHVwZGF0ZUlucHV0OmZ1bmN0aW9uKG4pewogICAgICAgICAgICAKICAgICAgICAgICAgaWYobj09MSl7CiAgICAgICAgICAgICAgIHRoaXMuZW1haWw9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VtYWlsJykudmFsdWU7ICAgICAgICAgICAgICAgIAogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2V7CiAgICAgICAgICAgICAgIHRoaXMucGFzc3dvcmQ9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Bhc3N3b3JkJykudmFsdWU7IAogICAgICAgICAgICB9CiAgICAgICAgfSwKCiAgICAgICAgZ290b1NpZ251cDpmdW5jdGlvbigpewogICAgICAgICAgICB0aGlzLiRlbWl0KCdnb3RvU2lnbnVwJywtMSk7CiAgICAgICAgfQoKICAgIH0sCn0K"},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoCA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA","file":"Login.vue","sourceRoot":"src/components","sourcesContent":["<template>\n\n    <main id=\"Login\" class=\"container\">\n        <div class=\"container\">\n            <div class=\"row header\">\n                <h3>USER LOGIN</h3>\n            </div>\n\n            <form class=\"row\" action=\"#\">\n                <label class=\"col-12\" for=\"email\" v-on:keyup='updateInput(1)'>Email<br>\n                    <input type=\"text\"  id=\"email\">\n                </label>\n\n                <label class=\"col-12\" for=\"password\" v-on:keyup='updateInput(2)'>Password<br>\n                    <input type=\"password\"  id=\"password\">\n                </label>\n\n                <button class=\"col-6\" type=\"button\" id=\"button_submit\" v-on:click='login'>submit</button>\n\n            </form>\n\n            <div class=\"row\" id=\"container_button_signup\">\n                <label for=\"button_signup\">No account?\n                <button class=\"col-6\" id=\"button_signup\" v-on:click='gotoSignup'>Sign Up</button>  \n                </label>\n            </div>\n\n            \n        </div>\n\n\n    </main>    \n</template>\n\n\n<script>\nexport default {\n    name:'Login',\n\n    data:function(){\n        return{\n            email:'',\n            password:''\n        }\n    },\n\n    methods:{\n        login:function(){\n            let email=this.email;\n            let password=this.password;\n\n            //validate user input\n            try{\n                \n                //empty input\n                if(email.trim()==''){\n                throw 'please enter your email';\n                }\n                if(password.trim()==''){\n                throw 'please enter your password';\n                }\n\n                //send post request with credentials\n                let request=new XMLHttpRequest();\n                \n                request.open('POST','http://localhost:8000/login');\n\n                let data=JSON.stringify({email:this.email,password:this.password});\n\n                request.send(data);  \n                \n                let self=this;\n                request.onreadystatechange = function (){        \n                    if(this.readyState==4 && this.status==200){    \n                                        \n                    alert(this.responseText);\n\n                        if(this.responseText=='Login successfull'){\n                            //go to home screen\n                            self.$emit('login');\n                        }\n                    }\n                };\n\n\n                \n            }\n            catch (error){\n                alert(error);\n            }\n\n        },\n\n        updateInput:function(n){\n            \n            if(n==1){\n               this.email=document.getElementById('email').value;                \n            }\n            else{\n               this.password=document.getElementById('password').value; \n            }\n        },\n\n        gotoSignup:function(){\n            this.$emit('gotoSignup',-1);\n        }\n\n    },\n}\n</script>\n\n\n<style>\n\n    form{\n        margin-top: 1%;\n        background-color: rgb(0, 139, 139,0.1);\n    }\n\n    label{\n        text-align: center;\n    }\n\n    input{\n        width: 100%;\n        text-align: center;\n    }\n\n    #button_submit {\n        background-color: darkcyan;\n        color: white;        \n        height: 40px;\n    }\n    #container_button_signup {\n        justify-content: center;\n\n        margin-top: 2%; \n    }\n\n    #button_signup {\n        background-color: rgba(0,0,0,0);\n        height: 40px;\n    }\n\n</style>\n\n"]}]}