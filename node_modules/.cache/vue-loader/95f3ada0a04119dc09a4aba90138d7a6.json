{"remainingRequest":"/Users/stavros/Documents/web/diary/scripta/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/stavros/Documents/web/diary/scripta/src/components/Calendar.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/stavros/Documents/web/diary/scripta/src/components/Calendar.vue","mtime":1611262265000},{"path":"/Users/stavros/Documents/web/diary/scripta/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/stavros/Documents/web/diary/scripta/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/stavros/Documents/web/diary/scripta/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/stavros/Documents/web/diary/scripta/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQgQ2FsZW5kYXIgZnJvbSAndi1jYWxlbmRhci9saWIvY29tcG9uZW50cy9jYWxlbmRhci51bWQnOwovLyBpbXBvcnQgRGF0ZVBpY2tlciBmcm9tICd2LWNhbGVuZGFyL2xpYi9jb21wb25lbnRzL2RhdGUtcGlja2VyLnVtZCc7CgovLyBsZXQgdG9kYXkgPSBuZXcgRGF0ZSgpOyAKZXhwb3J0IGRlZmF1bHQgewogICAgbmFtZTonQ2FsZW5kYXJpbycsCiAgICBjb21wb25lbnRzOntDYWxlbmRhcn0sCiAgICAKICAgIGRhdGE6ZnVuY3Rpb24oKSB7CiAgICByZXR1cm4geyAgCiAgICAgIAogICAgICBjYWxlbmRhck1vbnRoOicnLAogICAgfQogIH0sCiAgCiAgd2F0Y2g6ewoKICAgIC8vc2V0cyBldmVudCBsaXN0ZW5lciBvbiBjYWxlbmRhciBkYXlzIGV2ZXJ5IHRpbWUgdGhlIG1vbnRoIGRpc3BsYXllZCBjaGFuZ2VzCiAgICBjYWxlbmRhck1vbnRoOmZ1bmN0aW9uKCl7CiAgICAgIAogICAgICB0aGlzLmNhbGVuZGFyTW91bnRzKCk7CiAgICB9CiAgfSwKCiAgbW91bnRlZCgpewoKICAgICAgLy9zZXQgdGhlIGNhbGVuZGFyTW9udGggdmFsdWUgZm9yIHRoZSBmaXJzdCB0aW1lCiAgICAgIHRoaXMudXBkYXRlTW9udGgoKTsKCiAgICAgIC8vYWRkIGV2ZW50IGxpc3RlbmVyIG9uIG5hdmlnYXRpb24gYXJyb3dzICh1cGRhdGVzIGNhbGVuZGFyTW9udGgpCiAgICAgIGxldCBhcnJvd3M9ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgndmMtYXJyb3cnKTsKICAgICAgYXJyb3dzLmZvckVhY2goKGFycm93KT0+ewogICAgICAgIGFycm93LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJyx0aGlzLnVwZGF0ZU1vbnRoKTsgICAgCgogICAgICB9KTsKCiAgICAgIC8vYWRkIGV2ZW50IGxpc3RlbmVyIG9uIHRoZSByZXN0IG9mIHRoZSBuYXZpZ2F0aW9uIGJ1dHRvbnMgKHVwZGF0ZXMgY2FsZW5kYXJNb250aCkKICAgICAgbGV0IGdyaWRDZWxscz1kb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCd2Yy1ncmlkLWNlbGwnKTsKICAgICAgZ3JpZENlbGxzLmZvckVhY2goZ2M9PnsKICAgICAgZ2MuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLHRoaXMudXBkYXRlTW9udGgpOwogICAgICB9KTsKICAgCiAgICAvL3NldCBldmVudCBsaXN0ZW5lciBmb3IgdGhlIGNhbGVuZGFyIGRheXMgKHdpbGwgdXBkYXRlIHRoZSBzZWxlY3RlZCBkYXRlKQogICAgdGhpcy5jYWxlbmRhck1vdW50cygpOwogICAgCiAgICAKIH0sCgogIHByb3BzOlsnbW9udGhzJywndGl0bGUnXSwKCiAgbWV0aG9kczp7CgogICAgLy91cGRhdGVzIHRoZSBjYWxlbmRhck1vbnRoIHdpdGggdGhlIGN1cnJlbnRseSBzaG93aW5nIG1vbnRoCiAgICAvL1doZW4gdGhlIG1vbnRoIGNoYW5nZXMsIGEgd2F0Y2hlciB3aWxsIGJlIHVzZWQgdG8gc2V0IGFuIGV2ZW50IGxpc3RlbmVyCiAgICAvL29uIHRoZSBkYXlzLCB3aGljaCB3aWxsIHRyaWdnZXIgdGhlIGZ1bmN0aW9uIHRvIHVwZGF0ZSB0aGUgc2VsZWN0ZWQgZGF0ZQoKICAgICB1cGRhdGVNb250aDpmdW5jdGlvbigpewogICAgICBsZXQgZ3JpZENlbGxzPWRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3ZjLWdyaWQtY2VsbCcpOwogICAgICBncmlkQ2VsbHMuZm9yRWFjaChnYz0+ewogICAgICBnYy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsdGhpcy51cGRhdGVNb250aCk7CiAgICAgIH0pOwogICAgICAgCiAgICAgICAvL2NoZWNrIHRoZSBtb250aCByb3cgdG8gc2VlIGlmIHRoZSBtb250aCBjaGFuZ2VkID0+IHVwZGF0ZSBjYWxlbmRhck1vbnRoCiAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgbGV0IHRpdGxlPWRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3ZjLXRpdGxlJyk7CiAgICAgICAgIGxldCBtb250aD10aXRsZVswXS5pbm5lckhUTUw7CiAgICAgICAgIHRoaXMuY2FsZW5kYXJNb250aD1tb250aDsKICAgICAgIH0sIDgwMCk7CgogICAgIH0sCgogICAgLy9zZXRzIGV2ZW50IGxpc3RlbmVycyBvbiBlYWNoIGRheSBmb3IgY2FsbGluZyBzZWxlY3REYXkoKSB3aGljaCB1cGRhdGVzIHRoZSBzZWxlY3RlZCBkYXRlCiAgICBjYWxlbmRhck1vdW50czpmdW5jdGlvbigpewoKICAgIC8vIHJldHJpZXZlIHRvZGF5J3MgZGF5CiAgICBsZXQgZnVsbERhdGU9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RheScpLmlubmVySFRNTDsKICAgIGxldCBzcGxpdERhdGU9ZnVsbERhdGUuc3BsaXQoJyAnKTsKICAgIAogICAgbGV0IGRheT1zcGxpdERhdGVbMF07CiAgICBsZXQgbW9udGg9c3BsaXREYXRlWzFdOwogICAgbGV0IHllYXIgPSBzcGxpdERhdGVbMl07CgogICAgLy9yZW1vdmUgMCBmcm9tIGRheXMgMDEtMDkgb2YgdGhlIG1vbnRoCiAgICBsZXQgc3BsaXREYXk9ZGF5LnNwbGl0KCcnKTsKICAgICAgICBpZihzcGxpdERhdGVbMF09PScwJykKICAgICAgICAgIHsKICAgICAgICAgICAgZGF5PXNwbGl0RGF5WzFdOwogICAgICAgICAgfQoKICAKICAgLy9yZXRyaWV2ZSBzaG93aW5nIE1vbnRoICYgWWVhciBvZiBjYWxlbmRhcgogICBsZXQgbW9udGhZZWFyPXRoaXMuY2FsZW5kYXJNb250aDsKICAgICAgIG1vbnRoWWVhcj1tb250aFllYXIuc3BsaXQoJyAnKTsKICAgbGV0IGNNb250aD1tb250aFllYXJbMF07CiAgICAgICBjTW9udGg9Y01vbnRoLnN1YnN0cmluZygwLDMpOwogICBsZXQgY1llYXIgPSBtb250aFllYXJbMV07CgogICAvL3JldHJpZXZlIGRheSBjb250YWluZXIKICAgbGV0IGRheXM9ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgndmMtZGF5Jyk7IAogICBkYXlzLmZvckVhY2goZD0+ewogICAgIGxldCBjaGlsZCA9ZC5jaGlsZE5vZGVzOwogICAgIGxldCBkYXlDb250YWluZXI9Y2hpbGRbMF07CiAgICAKICAgICAvL2FkZCBmb2N1cyB0byBzZWxlY3RlZCBkYXkgCiAgICAgaWYoZGF5Q29udGFpbmVyLmlubmVySFRNTD09ZGF5ICYmIGNNb250aD09bW9udGggJiYgY1llYXI9PXllYXIpCiAgICAgICAgewogICAgICAgICAgZGF5Q29udGFpbmVyLnN0eWxlLmJhY2tncm91bmRDb2xvcj0ncmdiYSgwLDEzMCwxMzksMC4xKSc7CiAgICAgICAgfQogICAgIAogICAgIC8vYWRkIGV2ZW50IGxpc3RlbmVyIG9uIGNhbGVuZGFyIGRheXMgIAogICAgIGRheUNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsKCk9PnsKICAgICAgIHRoaXMuc2VsZWN0RGF5KGRheXMsZGF5Q29udGFpbmVyKTsKICAgICB9ICkKICAgICAKICAgfSkKCgogIH0sCgogICAgc2VsZWN0RGF5OmZ1bmN0aW9uKGRheXMsZGF5Q29udGFpbmVyKXsKICAgICAgLy9tb250aCBuYW1lcwogICAgICBsZXQgbW9udGhzPXRoaXMubW9udGhzOwogICAgICAKICAgICAgLy8gcmVtb3ZlIGZvY3VzIGZyb20gbm9uLXNlbGVjdGVkIGRheXMKICAgICAgZGF5cy5mb3JFYWNoKGQ9PnsKICAgICBsZXQgY2hpbGQgPWQuY2hpbGROb2RlczsKICAgICBsZXQgY29udGFpbmVyPWNoaWxkWzBdOwogICAgICBjb250YWluZXIuc3R5bGUuYmFja2dyb3VuZENvbG9yPSd3aGl0ZSc7CiAgICAgfSApOwoKICAgICAvL2hpZ2hsaWdodCBzZWxlY3RlZCBkYXkKICAgICAgIGRheUNvbnRhaW5lci5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9J3JnYmEoMCwxMzAsMTM5LDAuMSknOwogICAgICAgCgogICAgIC8vY2hhbmdlIHRoZSBkYXRlIGlmIGFub3RoZXIgZGF5IHdhcyBzZWxlY3RlZAogICAgbGV0IG1vbnRoWWVhcj1kb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCd2Yy10aXRsZScpOwogICAgbW9udGhZZWFyPW1vbnRoWWVhclswXS5pbm5lckhUTUwuc3BsaXQoJyAnKTsKCiAgICAvL2dldCBtb250aCBuYW1lICYgdHJpbSBpdCB0byAzIGNoYXJhY3RlcnMKICAgIGxldCBuZXdNb250aD1tb250aFllYXJbMF07CiAgICAgICAgbmV3TW9udGg9bmV3TW9udGguc3Vic3RyaW5nKDAsMyk7CgogICAgICAgIC8vZ2V0IG5ld01vbnRoIGFzIG51bWJlcgogICAgICAgIG1vbnRocy5mb3JFYWNoKChtLGluZGV4KT0+ewogICAgICAgICAgaWYobT09bmV3TW9udGgpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICBuZXdNb250aD1pbmRleDsKICAgICAgICAgICAgfQogICAgICAgIH0pOwogICAgCiAgICAvL2dldCB5ZWFyCiAgICBsZXQgbmV3WWVhcj1tb250aFllYXJbMV07CiAgICAKICAgIC8vZ2V0IGRheQogICAgbGV0IG5ld0RheT1kYXlDb250YWluZXIuaW5uZXJIVE1MOwogICAgLy9zZXQgbmV3IERhdGUKICAgIGxldCBuZXdEYXRlPW5ldyBEYXRlKG5ld1llYXIsbmV3TW9udGgsbmV3RGF5KTsKCiAgICB0aGlzLiRlbWl0KCd1cGRhdGVUb2RheScsbmV3RGF0ZSk7CiAgICB9CiAgfSwKICAgIAogICAgCn0KCiAgCg=="},{"version":3,"sources":["Calendar.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4BA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;;AAGA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA","file":"Calendar.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div>\n        \n        <!-- <DatePicker \n          mode='date'\n          v-model=\"date\"\n          \n\n        >  -->\n        \n         <Calendar id=\"calendar\"\n           v-bind:attributes='attributes'\n           v-bind:calendar='calendar'\n           \n         /> \n        \n\n    \n    </div>    \n\n\n    \n</template>\n\n\n\n<script>\n\nimport Calendar from 'v-calendar/lib/components/calendar.umd';\n// import DatePicker from 'v-calendar/lib/components/date-picker.umd';\n\n// let today = new Date(); \nexport default {\n    name:'Calendario',\n    components:{Calendar},\n    \n    data:function() {\n    return {  \n      \n      calendarMonth:'',\n    }\n  },\n  \n  watch:{\n\n    //sets event listener on calendar days every time the month displayed changes\n    calendarMonth:function(){\n      \n      this.calendarMounts();\n    }\n  },\n\n  mounted(){\n\n      //set the calendarMonth value for the first time\n      this.updateMonth();\n\n      //add event listener on navigation arrows (updates calendarMonth)\n      let arrows=document.getElementsByClassName('vc-arrow');\n      arrows.forEach((arrow)=>{\n        arrow.addEventListener('click',this.updateMonth);    \n\n      });\n\n      //add event listener on the rest of the navigation buttons (updates calendarMonth)\n      let gridCells=document.getElementsByClassName('vc-grid-cell');\n      gridCells.forEach(gc=>{\n      gc.addEventListener('click',this.updateMonth);\n      });\n   \n    //set event listener for the calendar days (will update the selected date)\n    this.calendarMounts();\n    \n    \n },\n\n  props:['months','title'],\n\n  methods:{\n\n    //updates the calendarMonth with the currently showing month\n    //When the month changes, a watcher will be used to set an event listener\n    //on the days, which will trigger the function to update the selected date\n\n     updateMonth:function(){\n      let gridCells=document.getElementsByClassName('vc-grid-cell');\n      gridCells.forEach(gc=>{\n      gc.addEventListener('click',this.updateMonth);\n      });\n       \n       //check the month row to see if the month changed => update calendarMonth\n       setTimeout(() => {\n         let title=document.getElementsByClassName('vc-title');\n         let month=title[0].innerHTML;\n         this.calendarMonth=month;\n       }, 800);\n\n     },\n\n    //sets event listeners on each day for calling selectDay() which updates the selected date\n    calendarMounts:function(){\n\n    // retrieve today's day\n    let fullDate=document.getElementById('day').innerHTML;\n    let splitDate=fullDate.split(' ');\n    \n    let day=splitDate[0];\n    let month=splitDate[1];\n    let year = splitDate[2];\n\n    //remove 0 from days 01-09 of the month\n    let splitDay=day.split('');\n        if(splitDate[0]=='0')\n          {\n            day=splitDay[1];\n          }\n\n  \n   //retrieve showing Month & Year of calendar\n   let monthYear=this.calendarMonth;\n       monthYear=monthYear.split(' ');\n   let cMonth=monthYear[0];\n       cMonth=cMonth.substring(0,3);\n   let cYear = monthYear[1];\n\n   //retrieve day container\n   let days=document.getElementsByClassName('vc-day'); \n   days.forEach(d=>{\n     let child =d.childNodes;\n     let dayContainer=child[0];\n    \n     //add focus to selected day \n     if(dayContainer.innerHTML==day && cMonth==month && cYear==year)\n        {\n          dayContainer.style.backgroundColor='rgba(0,130,139,0.1)';\n        }\n     \n     //add event listener on calendar days  \n     dayContainer.addEventListener('click',()=>{\n       this.selectDay(days,dayContainer);\n     } )\n     \n   })\n\n\n  },\n\n    selectDay:function(days,dayContainer){\n      //month names\n      let months=this.months;\n      \n      // remove focus from non-selected days\n      days.forEach(d=>{\n     let child =d.childNodes;\n     let container=child[0];\n      container.style.backgroundColor='white';\n     } );\n\n     //highlight selected day\n       dayContainer.style.backgroundColor='rgba(0,130,139,0.1)';\n       \n\n     //change the date if another day was selected\n    let monthYear=document.getElementsByClassName('vc-title');\n    monthYear=monthYear[0].innerHTML.split(' ');\n\n    //get month name & trim it to 3 characters\n    let newMonth=monthYear[0];\n        newMonth=newMonth.substring(0,3);\n\n        //get newMonth as number\n        months.forEach((m,index)=>{\n          if(m==newMonth)\n            {\n              newMonth=index;\n            }\n        });\n    \n    //get year\n    let newYear=monthYear[1];\n    \n    //get day\n    let newDay=dayContainer.innerHTML;\n    //set new Date\n    let newDate=new Date(newYear,newMonth,newDay);\n\n    this.$emit('updateToday',newDate);\n    }\n  },\n    \n    \n}\n\n  \n</script>\n\n\n\n<style>\n\n#calendar {color: darkcyan;}\n\n</style>"]}]}