{"remainingRequest":"/Users/stavros/Documents/web/diary/node_modules/babel-loader/lib/index.js!/Users/stavros/Documents/web/diary/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/stavros/Documents/web/diary/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/stavros/Documents/web/diary/src/components/Dossier.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/stavros/Documents/web/diary/src/components/Dossier.vue","mtime":1613256823991},{"path":"/Users/stavros/Documents/web/diary/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/stavros/Documents/web/diary/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/stavros/Documents/web/diary/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/stavros/Documents/web/diary/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IE5vdGVzIGZyb20gJy4vTm90ZXMnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0Rvc3NpZXInLAogIGNvbXBvbmVudHM6IHsKICAgIE5vdGVzOiBOb3RlcwogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGRvc3NpZXJzOiBbXSwKICAgICAgaGFzRG9zc2llcjogdHJ1ZSwKICAgICAgb3Blbk5vdGVzOiBmYWxzZSwKICAgICAgc2VsZWN0ZWREb3NzaWVyOiBbXQogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICB2YXIgcmVxdWVzdCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpOwogICAgcmVxdWVzdC5vcGVuKCdHRVQnLCAnL2FwaS9nZXQtZG9zc2llcnMtaW5mbycpOwogICAgdmFyIHNlc3Npb25faWQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnc2Vzc2lvbl9pZCcpOwogICAgdmFyIHVzZXJfaWQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcl9pZCcpOwogICAgcmVxdWVzdC5zZXRSZXF1ZXN0SGVhZGVyKCdzZXNzaW9uX2lkJywgc2Vzc2lvbl9pZCk7CiAgICByZXF1ZXN0LnNldFJlcXVlc3RIZWFkZXIoJ3VzZXJfaWQnLCB1c2VyX2lkKTsgLy9zZW5kIHJlcXVlc3QKCiAgICByZXF1ZXN0LnNlbmQoKTsKCiAgICByZXF1ZXN0Lm9ubG9hZCA9IGZ1bmN0aW9uICgpIHsKICAgICAgaWYgKHRoaXMuc3RhdHVzID09IDIwMCkgewogICAgICAgIGlmICh0aGlzLnJlc3BvbnNlVGV4dCAhPSAnJykgewogICAgICAgICAgc2VsZi5oYXNEb3NzaWVyID0gdHJ1ZTsKICAgICAgICAgIHZhciByZXNwb25zZSA9IEpTT04ucGFyc2UodGhpcy5yZXNwb25zZVRleHQpOwogICAgICAgICAgcmVzcG9uc2UuZm9yRWFjaChmdW5jdGlvbiAocikgewogICAgICAgICAgICBzZWxmLmRvc3NpZXJzLnB1c2gocik7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY29uc29sZS5sb2codGhpcy5yZXNwb25zZVRleHQpOwogICAgICB9CiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgc2hvd05vdGVzOiBmdW5jdGlvbiBzaG93Tm90ZXMoZG9zc2llcl9maywgZG9zc2llcl9uYW1lKSB7CiAgICAgIHRoaXMuc2VsZWN0ZWREb3NzaWVyID0gewogICAgICAgIGRvc3NpZXJfZms6IGRvc3NpZXJfZmssCiAgICAgICAgZG9zc2llcl9uYW1lOiBkb3NzaWVyX25hbWUKICAgICAgfTsKICAgICAgdGhpcy5vcGVuTm90ZXMgPSB0cnVlOwogICAgfSwKICAgIGJhY2tfZG9zc2llcnM6IGZ1bmN0aW9uIGJhY2tfZG9zc2llcnMoKSB7CiAgICAgIHRoaXMub3Blbk5vdGVzID0gZmFsc2U7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["Dossier.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsCA,OAAA,KAAA,MAAA,SAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,SADA;AAGA,EAAA,UAAA,EAAA;AACA,IAAA,KAAA,EAAA;AADA,GAHA;AAOA,EAAA,IAAA,EAAA,gBAAA;AACA,WAAA;AACA,MAAA,QAAA,EAAA,EADA;AAEA,MAAA,UAAA,EAAA,IAFA;AAGA,MAAA,SAAA,EAAA,KAHA;AAIA,MAAA,eAAA,EAAA;AAJA,KAAA;AAOA,GAfA;AAiBA,EAAA,OAAA,EAAA,mBAAA;AAEA,QAAA,IAAA,GAAA,IAAA;AACA,QAAA,OAAA,GAAA,IAAA,cAAA,EAAA;AACA,IAAA,OAAA,CAAA,IAAA,CAAA,KAAA,EAAA,wBAAA;AACA,QAAA,UAAA,GAAA,YAAA,CAAA,OAAA,CAAA,YAAA,CAAA;AACA,QAAA,OAAA,GAAA,YAAA,CAAA,OAAA,CAAA,SAAA,CAAA;AACA,IAAA,OAAA,CAAA,gBAAA,CAAA,YAAA,EAAA,UAAA;AACA,IAAA,OAAA,CAAA,gBAAA,CAAA,SAAA,EAAA,OAAA,EARA,CASA;;AACA,IAAA,OAAA,CAAA,IAAA;;AAGA,IAAA,OAAA,CAAA,MAAA,GAAA,YAAA;AACA,UAAA,KAAA,MAAA,IAAA,GAAA,EAAA;AACA,YAAA,KAAA,YAAA,IAAA,EAAA,EAAA;AACA,UAAA,IAAA,CAAA,UAAA,GAAA,IAAA;AAEA,cAAA,QAAA,GAAA,IAAA,CAAA,KAAA,CAAA,KAAA,YAAA,CAAA;AAEA,UAAA,QAAA,CAAA,OAAA,CAAA,UAAA,CAAA,EAAA;AACA,YAAA,IAAA,CAAA,QAAA,CAAA,IAAA,CAAA,CAAA;AAEA,WAHA;AAKA;AAGA,OAdA,MAeA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,KAAA,YAAA;AACA;AACA,KAnBA;AAwBA,GAtDA;AAwDA,EAAA,OAAA,EAAA;AAEA,IAAA,SAAA,EAAA,mBAAA,UAAA,EAAA,YAAA,EAAA;AAEA,WAAA,eAAA,GAAA;AAAA,QAAA,UAAA,EAAA,UAAA;AAAA,QAAA,YAAA,EAAA;AAAA,OAAA;AAEA,WAAA,SAAA,GAAA,IAAA;AACA,KAPA;AASA,IAAA,aAAA,EAAA,yBAAA;AACA,WAAA,SAAA,GAAA,KAAA;AACA;AAXA;AAxDA,CAAA","sourcesContent":["<template>\n\n    <main id=\"Dossier\" class=\"container\">\n        <transition name=\"fade\">\n            <div v-if=\"!openNotes\">\n                <div class=\"row justify-centre systemMessage\" v-if=\"!hasDossier\">You have no recent dossiers</div>\n                <div v-if=\"hasDossier\" >\n                    \n                    <div class=\"row results_row\" v-for=\"dossier in dossiers\" :key=\"dossier\">\n    \n                        <div class=\"col col-1\">\n                            <i class=\"fas fa-folder full right results_label\"> </i>                        \n                        </div>\n    \n                        <div class=\"col results_label\">\n                            {{dossier.dossier_name}}                       \n                        </div>\n    \n                        <div class=\"col col-1\">\n                            <i class=\"fas fa-feather-alt results_label full left\"> {{dossier.count}} </i>                          \n                        </div>\n    \n                        <button class=\"col\" v-on:click='showNotes(dossier.dossier_id,dossier.dossier_name)'>open</button>\n    \n                    </div>\n                </div>\n            </div>\n        </transition>\n            \n    <transition name=\"fade\">\n        <Notes v-if=\"openNotes\" v-on:back_dossiers='back_dossiers' v-bind:dossier='selectedDossier' />\n    </transition>\n\n    </main>    \n\n</template>\n\n<script>\nimport Notes from './Notes';\nexport default {\n    name:'Dossier',\n\n    components: {\n    Notes\n    },\n\n    data:function(){\n        return{\n           dossiers:[],\n           hasDossier:true,\n           openNotes:false,\n           selectedDossier:[]\n           \n        }\n    },\n\n    mounted:function(){\n\n        let self=this;\n        let request= new XMLHttpRequest();            \n        request.open('GET','/api/get-dossiers-info');\n        let session_id=localStorage.getItem('session_id');\n        let user_id=localStorage.getItem('user_id');\n        request.setRequestHeader('session_id', session_id);               \n        request.setRequestHeader('user_id', user_id);               \n        //send request\n        request.send();  \n\n\n        request.onload=function(){\n            if(this.status==200){\n                if(this.responseText!=''){\n                    self.hasDossier=true;\n\n                    let response = JSON.parse(this.responseText);\n\n                    response.forEach(r => {\n                        self.dossiers.push(r);   \n                        \n                    });\n\n                }\n                \n                \n            } \n            else{\n                console.log(this.responseText);\n            }  \n        }  \n\n\n        \n\n    },\n\n    methods:{\n       \n       showNotes:function(dossier_fk,dossier_name){\n           \n           this.selectedDossier=({dossier_fk:dossier_fk,dossier_name:dossier_name});\n           \n           this.openNotes=true;\n       },\n\n       back_dossiers:function(){\n           this.openNotes=false;\n       }\n\n    },\n}\n</script>\n\n\n<style>\n   .dossier_row{\n       border: solid darkcyan thin;    \n    }\n</style>"],"sourceRoot":"src/components"}]}